(window.webpackJsonp=window.webpackJsonp||[]).push([["1f4fc"],{"++n2":function(e,t,n){},"+Hyk":function(e,t,n){"use strict";var a=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),r=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function o(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function i(e,t){var n=e.muted,a=e.timeout,r=e.inline,o=t(),i=o.element,s=o.source,l=void 0,c=void 0,u=void 0;return i.muted=n,!0===n&&i.setAttribute("muted","muted"),!0===r&&i.setAttribute("playsinline","playsinline"),i.src=s,new Promise((function(e){l=i.play(),c=setTimeout((function(){u(!1,new Error("Timeout "+a+" ms has been reached"))}),a),u=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(c),e({result:t,error:n})},void 0!==l?l.then((function(){return u(!0)})).catch((function(e){return u(!1,e)})):u(!0)}))}var s={audio:function(e){return i(e=o(e),(function(){return{element:document.createElement("audio"),source:URL.createObjectURL(a)}}))},video:function(e){return i(e=o(e),(function(){return{element:document.createElement("video"),source:URL.createObjectURL(r)}}))}};t.a=s},"+plK":function(e,t,n){e.exports=n("4KFe")(205)},"/QuM":function(e,t,n){},"/eQG":function(e,t,n){e.exports=n("4KFe")(209)},"0tVQ":function(e,t,n){n("FlQf"),n("VJsP"),e.exports=n("WEpk").Array.from},"2B47":function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return P})),n.d(t,"e",(function(){return C})),n.d(t,"g",(function(){return E}));var a,r,o,i,s,l,c=n("cDf5"),u=n.n(c),p=n("lSNA"),f=n.n(p),d=n("KkFV");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var v="text-bulletscreen-settings",m={position:{full:"1",top:"2",bottom:"3"},size:{sm:"1",md:"2",lg:"3"},speed:{xs:1,sm:2,md:3,lg:4,xl:5}},y=(a={},f()(a,m.position.full,{start:0,end:1}),f()(a,m.position.top,{start:0,end:.333}),f()(a,m.position.bottom,{start:.667,end:1}),a),g=(r={},f()(r,m.size.sm,16),f()(r,m.size.md,25),f()(r,m.size.lg,36),r),b=(o={},f()(o,m.speed.xs,2e4),f()(o,m.speed.sm,13333),f()(o,m.speed.md,1e4),f()(o,m.speed.lg,8e3),f()(o,m.speed.xl,6666),o),P={position:(i={},f()(i,m.position.full,"full"),f()(i,m.position.top,"top"),f()(i,m.position.bottom,"bottom"),i),size:(s={},f()(s,m.size.sm,"min"),f()(s,m.size.md,"mid"),f()(s,m.size.lg,"max"),s),speed:(l={},f()(l,m.speed.xs,"50%"),f()(l,m.speed.sm,"75%"),f()(l,m.speed.md,"100%"),f()(l,m.speed.lg,"125%"),f()(l,m.speed.xl,"150%"),l)};function k(){return{position:m.position.full,size:m.size.md,speed:m.speed.md,opacity:70}}function C(){var e,t=d.b.get(v);if(!t)return k();try{e=JSON.parse(t)}catch(n){}return e=e?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},k(),{},e):k()}function E(e){"object"===u()(e)&&null!==e&&d.b.set(v,JSON.stringify(e))}},"2GTP":function(e,t,n){e.exports=n("4KFe")(103)},"2TUn":function(e,t,n){"use strict";t.a=function(e,t){var n=e;return Object.keys(t).forEach((function(e){n=n.replace(new RegExp(":".concat(e)),t[e])})),n}},"2faE":function(e,t,n){e.exports=n("4KFe")(17)},"50iz":function(e,t,n){"use strict";n("I5cv");var a=n("lwsE"),r=n.n(a),o=n("W8MJ"),i=n.n(o),s=n("PJYZ"),l=n.n(s),c=n("a1gu"),u=n.n(c),p=n("Nsbk"),f=n.n(p),d=n("7W2i"),h=n.n(d),v=n("lSNA"),m=n.n(v),y=n("q1tI"),g=n.n(y);function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var P=function(e){h()(a,e);var t,n=(t=a,function(){var e,n=f()(t);if(b()){var a=f()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return u()(this,e)});function a(){var e;r()(this,a);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),m()(l()(e),"checked",!1),m()(l()(e),"isRadio",(function(e){return"input"===e.type&&"radio"===e.props.type})),m()(l()(e),"cloneChildren",(function(t,n,a){var r=e.props,o=r.onChange,i=r.$$id,s=r.name,l=i||s;return g.a.Children.map(n,(function(n){if(g.a.isValidElement(n)){var r={};if(n.props.children)r={children:e.cloneChildren(t,n.props.children,a+1)};else if("function"!==typeof n.type||n.type instanceof g.a.Component)e.isRadio(n)&&(e.checked=t===n.props.value,r={checked:t===n.props.value,onChange:o,name:l,key:l});else{var i=n.type(n.props);n=g.a.createElement(g.a.Fragment),r={children:e.cloneChildren(t,i,a)}}return e.checked&&1===a&&(e.checked=!1,r.className=n.props.className?"".concat(n.props.className," checked"):"checked"),g.a.cloneElement(n,r)}return n}))})),e}return i()(a,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.value,a=e.className;return(g.a.createElement("div",{className:a},this.cloneChildren(n,t,1)))}}]),a}(g.a.Component);t.a=P},"5K7Z":function(e,t,n){e.exports=n("4KFe")(34)},"5ObY":function(e,t,n){"use strict";n.r(t);var a=n("J4zp"),r=n.n(a),o=(n("I5cv"),n("pVnL")),i=n.n(o),s=n("sXyB"),l=n.n(s),c=n("QILm"),u=n.n(c),p=n("lwsE"),f=n.n(p),d=n("W8MJ"),h=n.n(d),v=n("PJYZ"),m=n.n(v),y=n("a1gu"),g=n.n(y),b=n("Nsbk"),P=n.n(b),k=n("7W2i"),C=n.n(k),E=n("lSNA"),S=n.n(E),I=n("q1tI"),L=n.n(I),O=n("TSYQ"),T=n.n(O),w=n("17x9"),R=n.n(w),_=n("2GYh"),N=n("KkFV"),D=n("cOjp"),x=n("H4nB"),M=n("vIRZ"),A=n("q2PW"),j=n("N36A"),B=n("zv/K"),F=n("njtY");function V(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var U=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(V()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;return f()(this,a),t=n.call(this,e),S()(m()(t),"onParentIsPlayingStateChange",(function(e){var n=e.value;t.setState({isPlaying:n})})),S()(m()(t),"onKeyDown",(function(e){var n=e.target.nodeName;return"TEXTAREA"===n||"INPUT"===n||" "!==e.key||(t.handleClick(),e.stopPropagation(),e.preventDefault(),!1)})),t.state={isPlaying:e.parent.state.isPlaying},t}return h()(a,[{key:"componentDidMount",value:function(){var e=this.props.parent.state.isPlaying;this.setState({isPlaying:e}),this.listenAllParentEvents(),this.listenKeyDownEvent()}},{key:"componentWillUnmount",value:function(){this.removeKeyDownEvent(),this.removeAllParentEvents()}},{key:"listenKeyDownEvent",value:function(){var e=this.props.parent.container;e&&e.addEventListener("keydown",this.onKeyDown)}},{key:"removeKeyDownEvent",value:function(){var e=this.props.parent.container;e&&e.removeEventListener("keydown",this.onKeyDown)}},{key:"listenAllParentEvents",value:function(){this.props.parent.onStateChange("isPlaying",this.onParentIsPlayingStateChange)}},{key:"removeAllParentEvents",value:function(){this.props.parent.offStateChange("isPlaying",this.onParentIsPlayingStateChange)}},{key:"handleClick",value:function(){var e=this.props.parent,t=this.state.isPlaying,n=e.state,a=n.isLive,r=void 0!==a&&a,o=n.isPlayback;if(r||void 0!==o&&o){var i=e.plugins.get("reporter");i&&i.reportPauseBtnClick(t),t?e.pause():e.play()}}},{key:"render",value:function(){var e=this.props,t=e.commonClass,n=e.playerLangPkg,a=n.play,r=n.pause,o=this.state.isPlaying;return L.a.createElement("div",{className:T()(S()({"play-control":!0,playing:o},t,!0)),onClick:this.handleClick.bind(this),title:o?r:a},L.a.createElement(F.a,{type:o?"web-pause":"web-play"}))}}]),a}(L.a.Component);function H(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var z=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(H()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(){return f()(this,a),n.apply(this,arguments)}return h()(a,[{key:"render",value:function(){var e=this.props,t=e.parent,n=e.commonClass,a=e.playerLangPkg.refresh,r=t.state,o=r.isLive,i=void 0!==o&&o,s=r.isPlayback,l=void 0!==s&&s;return L.a.createElement("div",{className:T()(S()({"refresh-control":!0},n,!0)),onClick:function(){(i||l)&&(t.clear(),t.refresh())},title:a},L.a.createElement(F.a,{type:"web-refresh"}))}}]),a}(L.a.Component);function W(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function K(e,t){var n={},a=function(e){var t;e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect());if(!t)return{left:0,top:0};return t}(e),r=e.offsetWidth,o=e.offsetHeight,i=a.top,s=a.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(i-l+o)/o)),n.x=Math.max(0,Math.min(1,(c-s)/r)),n}var G=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(W()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a),t=n.call(this,e),S()(m()(t),"onPlayerVolumeChange",(function(){var e=t.props.parent,n=e.volume(),a=e.muted(),r=a||0===n;t.setState({volume:n,muted:r}),N.b.set("nimo_volume_key",n),N.b.set("nimo_mute_key",a)})),S()(m()(t),"onParentLoadStart",(function(){var e=t.props.parent;e&&e.initVolume()})),S()(m()(t),"onKeyDownEvent",(function(e){var n=t.props.parent,a=e.target.nodeName,r=t.state.volume;if("TEXTAREA"===a||"INPUT"===a)return!0;switch(e.key){case"ArrowUp":r+=.1,r=Math.min(1,r).toFixed(2);break;case"ArrowDown":r-=.1,r=Math.max(0,r).toFixed(2);break;default:return!0}return r=parseFloat(r),n.volume(r),t.recordVolume(!1),t.reportVolumeBarChange("updown",r),e.stopPropagation(),e.preventDefault(),!1}));var r=e.parent;return t.state={volume:r.volume(),muted:r.muted()},t.isDragging=!1,t.recordedVolume=parseFloat(N.b.get("nimo_volume_record_key"))||1,t}return h()(a,[{key:"componentDidMount",value:function(){this.listenAllParentEvents(),this.initKeydownEvent()}},{key:"componentWillUnmount",value:function(){this.removeAllParentEvents(),this.removeKeydownEvent()}},{key:"onMousedown",value:function(e){var t=this.volumeBar.ownerDocument;this.isDragging=!0,this.docOnMousemove=this.onMousemove.bind(this),this.docOnMouseup=this.onMouseup.bind(this),t.addEventListener("mousemove",this.docOnMousemove),t.addEventListener("mouseup",this.docOnMouseup),this.recordVolume(!0),this.onMousemove(e)}},{key:"onMousemove",value:function(e){var t=this.props.parent,n=this.isDragging,a=this.volumeBar;if(n){var r=K(a,e),o=parseFloat(r.x.toFixed(2));t.volume(o),o>0&&t.muted(!1)}}},{key:"onMouseup",value:function(){var e=this.volumeBar.ownerDocument,t=this.state.volume;this.isDragging&&(this.isDragging=!1,e.removeEventListener("mousemove",this.docOnMousemove),e.removeEventListener("mouseup",this.docOnMouseup),this.recordVolume(!1),this.reportVolumeBarChange("mouse",t))}},{key:"onVolumeBarClick",value:function(e){var t=this.volumeBar,n=this.props.parent;this.recordVolume(!0);var a=K(t,e),r=parseFloat(a.x.toFixed(2));n.volume(r),r>0&&n.muted(!1),this.recordVolume(!1),this.reportVolumeBarChange("mouse",r)}},{key:"onMutedBtnClick",value:function(){var e=this.props.parent,t=this.state.muted,n=e.muted(),a=!0;if(t){if(n&&(a=!1,e.muted(a),e.volume()>=.05))return void this.reportMutedBtnClick(a);e.volume(this.recordedVolume)}else a=!0,e.muted(a);this.reportMutedBtnClick(a)}},{key:"initKeydownEvent",value:function(){var e=this.props.containerId;document.getElementById(e).addEventListener("keydown",this.onKeyDownEvent)}},{key:"removeKeydownEvent",value:function(){var e=this.props.containerId;document.getElementById(e).removeEventListener("keydown",this.onKeyDownEvent)}},{key:"listenAllParentEvents",value:function(){var e=this.props.parent;e.on("volumechange",this.onPlayerVolumeChange),e.on("loadstart",this.onParentLoadStart)}},{key:"removeAllParentEvents",value:function(){var e=this.props.parent;e.off("volumechange",this.onPlayerVolumeChange),e.off("loadstart",this.onParentLoadStart)}},{key:"recordVolume",value:function(e){var t=this.props.parent.volume();(e||0!==t)&&(t<.05&&(t=.05),this.recordedVolume=t,N.b.set("nimo_volume_record_key",t))}},{key:"reportVolumeBarChange",value:function(e,t){var n=this.props.parent.plugins.get("reporter");n&&n.reportDragVolumeChanged(e,100*t)}},{key:"reportMutedBtnClick",value:function(e){var t=this.props.parent.plugins.get("reporter");t&&t.reportMutedBtnClick(e)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.parent,t.commonClass),a=t.playerLangPkg,r=this.state,o=r.volume,i=r.muted,s=i?0:100*o;return L.a.createElement("div",{className:T()(S()({"volume-control":!0,"is-muted":i},n,!0))},L.a.createElement("div",{className:"volume-btn",onClick:this.onMutedBtnClick.bind(this),title:i?a.unmute:a.mute},L.a.createElement(F.a,{type:i?"web-mute":"web-unmute"})),L.a.createElement("div",{className:"volume-area",ref:function(t){e.volumeBar=t}},L.a.createElement("div",{className:"volume-bar",onClick:this.onVolumeBarClick.bind(this),style:{backgroundImage:"linear-gradient(to right, #ffc000, #ffc000 ".concat(s,"%, rgba(255, 255, 255, 0.3) ").concat(s,"%, rgba(255, 255, 255, 0.3)")}}),L.a.createElement("div",{className:"volume-point",style:{left:"".concat(s,"%")},onMouseDown:this.onMousedown.bind(this),onMouseMove:this.onMousemove.bind(this),onMouseUp:this.onMouseup.bind(this)})))}}]),a}(L.a.Component);function Y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var X=function(e){var t=e.className,n=void 0===t?"":t,a=e.rateMap,r=e.rateOrder,o=e.rates,i=e.rate,s=e.switchRate,l=e.prefixClass,c=e.playerLangPkg,u=T()("".concat(l,"_list"),n);return L.a.createElement("ul",{className:u},r.map((function(e){var t;return o.indexOf(e)>-1?L.a.createElement("li",{className:T()((t={},S()(t,"".concat(l,"_item"),!0),S()(t,"selected",i===e),t)),onClick:function(){s(e)},key:e},1!==e?"".concat(a[e],"P"):c.original):null})))},J=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(Y()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a),t=n.call(this,e),S()(m()(t),"onParentStreamInfoUpdate",(function(e){var n=e.value,a=void 0===n?{}:n,r=t.props.parent;t.setState({rate:a.rate||2,rates:r.getRates()})})),S()(m()(t),"onParentIsLiveStateChange",(function(e){var n=e.value,a=t.props.parent;t.setState({isLive:n,rates:a.getRates()})})),S()(m()(t),"onParentIsPlaybackStateChange",(function(e){var n=e.value,a=t.props.parent;t.setState({isPlayback:n,rates:a.getRates()})})),S()(m()(t),"onParentDataLoadedStateChange",(function(e){var n=e.value,a=t.props.parent,r=t.state,o=r.rate,i=r.rates;n&&!o&&(i=[o=a.getVideoRate()]),t.setState({dataLoaded:n,rate:o,rates:i})})),S()(m()(t),"onMouseEnter",(function(){t.setState({showList:!0})})),S()(m()(t),"onMouseLeave",(function(){t.setState({showList:!1})}));var r=e.parent,o=r.state,i=o.isLive,s=o.isPlayback,l=o.dataLoaded,c=r.streamInfo,u=(c=void 0===c?{}:c).rate,p=void 0===u?0:u;return l&&0===p&&(p=r.getVideoRate()),t.state={isLive:i,isPlayback:s,rates:r.getRates()||[],rate:p,dataLoaded:l,showList:!1},t}return h()(a,[{key:"componentDidMount",value:function(){this.listenAllParentEvents()}},{key:"componentWillUnmount",value:function(){this.removeAllParentEvents()}},{key:"listenAllParentEvents",value:function(){var e=this.props.parent,t=e.events.STREAM_INFO_UPDATE;e.on(t,this.onParentStreamInfoUpdate),e.onStateChange("isLive",this.onParentIsLiveStateChange),e.onStateChange("isPlayback",this.onParentIsPlaybackStateChange),e.onStateChange("dataLoaded",this.onParentDataLoadedStateChange)}},{key:"removeAllParentEvents",value:function(){var e=this.props.parent,t=e.events.STREAM_INFO_UPDATE;e.off(t,this.onParentStreamInfoUpdate),e.offStateChange("isLive",this.onParentIsLiveStateChange),e.offStateChange("isPlayback",this.onParentIsPlaybackStateChange),e.offStateChange("dataLoaded",this.onParentDataLoadedStateChange)}},{key:"switchRate",value:function(e){var t=this.props.parent,n=t.const.RATE_MAP,a=this.state,r=a.rate,o=a.isLive;if(t.switchRate&&r!==e){t.switchRate(e);var i=t.plugins.get("reporter");i&&o&&i.reportRateSelected("".concat(n[e],"P"))}this.setState({showList:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.parent,a=t.commonClass,r=t.playerLangPkg,o=void 0===r?{}:r,i=n.const,s=i.RATE_MAP,l=i.RATE_ORDER,c=this.state,u=c.rates,p=c.rate,f=c.isLive,d=c.isPlayback,h=c.showList;return(f||d)&&p?L.a.createElement("div",{className:T()(S()({"rate-control":!0},a,!0)),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},L.a.createElement(X,{className:h?"":"n-as-hidden",rateMap:s,rateOrder:l,rates:u,rate:p,switchRate:function(t){e.switchRate(t)},prefixClass:"rate-control",playerLangPkg:o}),L.a.createElement("div",{className:"rate-current"},1!==p?"".concat(s[p],"P"):o.original)):null}}]),a}(L.a.Component);function Z(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var q={};!function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t=e[0],n=[],a=0;a<e.length;a++)if(e[a][1]in document){n=e[a];break}if(n)for(var r=0;r<n.length;r++)q[t[r]]=n[r]}();var Q=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(Z()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a),t=n.call(this,e),S()(m()(t),"_sizeStateBeforeFullscreen",null),S()(m()(t),"onContainerDblclickEvent",(function(){var e=t.state,n=e.isLive,a=e.isPlayback,r=e.isFullscreen,o=t.props.parent;(n||a)&&(t.reportFullscreenClick("double_click"),o.fullscreen(!r))})),S()(m()(t),"onParentIsFullscreenStateChange",(function(e){var n=e.value;t.setState({isFullscreen:n})})),S()(m()(t),"onParentIsLiveStateChange",(function(e){var n=e.value;t.setState({isLive:n})})),S()(m()(t),"onParentIsPlaybackStateChange",(function(e){var n=e.value;t.setState({isPlayback:n})})),S()(m()(t),"onDocumentFullscreenChange",(function(){var e=!!document[q.fullscreenElement];t._setParentIsFullscreen(e)})),S()(m()(t),"onParentSizeStateChange",(function(e){var n=e.value,a=e.oldValue,r=t.props.parent;n===((null===r||void 0===r?void 0:r.const)||{}).SIZE_MAP.FULLSCREEN&&(t._sizeStateBeforeFullscreen=a)}));var r=e.parent.state,o=r.isLive,i=r.isPlayback;return t.state={isLive:o,isPlayback:i,isFullscreen:!1},t}return h()(a,[{key:"UNSAFE_componentWillMount",value:function(){this.initPlayerFullscreenAPI(),this.listenDocumentEvents(),this.listenAllParentEvents(),this._setParentIsFullscreen(!1)}},{key:"componentWillUnmount",value:function(){this.removeDocumentEvents(),this.removeAllParentEvents()}},{key:"initPlayerFullscreenAPI",value:function(){var e=this.props.parent;e.fullscreen=function(t){e.state.isFullscreen!==t&&(t?e.container[q.requestFullscreen]():document[q.exitFullscreen]())},e.fullscreenEnabled=document[q.fullscreenEnabled]}},{key:"listenDocumentEvents",value:function(){this.props.parent.container.addEventListener("dblclick",this.onContainerDblclickEvent),document.addEventListener(q.fullscreenchange,this.onDocumentFullscreenChange)}},{key:"removeDocumentEvents",value:function(){this.props.parent.container.removeEventListener("dblclick",this.onContainerDblclickEvent),document.removeEventListener(q.fullscreenchange,this.onDocumentFullscreenChange)}},{key:"listenAllParentEvents",value:function(){var e=this.props.parent;e.onStateChange("isFullscreen",this.onParentIsFullscreenStateChange),e.onStateChange("isLive",this.onParentIsLiveStateChange),e.onStateChange("isPlayback",this.onParentIsPlaybackStateChange),e.onStateChange("size",this.onParentSizeStateChange)}},{key:"removeAllParentEvents",value:function(){var e=this.props.parent;e.offStateChange("isFullscreen",this.onParentIsFullscreenStateChange),e.offStateChange("isLive",this.onParentIsLiveStateChange),e.offStateChange("isPlayback",this.onParentIsPlaybackStateChange)}},{key:"reportFullscreenClick",value:function(e){var t=this.props.parent.plugins,n=this.state.isFullscreen,a=t.get("reporter");a&&a.reportFullscreenBtnClick({isFullscreen:!n,method:e})}},{key:"_setParentIsFullscreen",value:function(e){var t=this.props.parent,n=t.state.size,a=(null===t||void 0===t?void 0:t.const).SIZE_MAP;t.setState("isFullscreen",e),e?t.setState("size",a.FULLSCREEN):this._sizeStateBeforeFullscreen&&n!==a.THEATER&&t.setState("size",this._sizeStateBeforeFullscreen)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parent,a=t.commonClass,r=t.playerLangPkg,o=r.fullscreen,i=r.exitFullscreen,s=this.state,l=s.isFullscreen,c=s.isLive,u=s.isPlayback;return L.a.createElement("div",{className:T()(S()({"fullscreen-control":!0,fullscreen:l},a,!0)),title:l?i:o,onClick:function(){(c||u||l)&&(e.reportFullscreenClick("fullscream_button"),n.fullscreen(!l))}},L.a.createElement(F.a,{type:l?"web-unfullscreen":"web-fullscreen"}))}}]),a}(L.a.Component),$=n("Wwog"),ee=n("sEfC"),te=n.n(ee),ne=n("OuPn"),ae=n("Kw0i"),re=n("F3EO"),oe=n("2B47"),ie=n("50iz"),se=(n("++n2"),function(e){var t=e.value,n=(e.name,e.text),a=(e.lang,e.className),r=void 0===a?"n-as-text-center":a,o=u()(e,["value","name","text","lang","className"]);return(L.a.createElement("label",i()({},o,{className:"nimo-radio-wrapper ".concat(r)}),L.a.createElement("span",{className:"nimo-radio"},L.a.createElement("input",{type:"radio",value:t,className:"nimo-radio-input"}),L.a.createElement("span",{className:"nimo-radio-inner"},L.a.createElement("span",{className:"nimo-radio-inner-dot"}))),L.a.createElement("span",{className:"nimo-radio-text"},n)))}),le=n("QbLZ"),ce=n.n(le),ue=n("iCc5"),pe=n.n(ue),fe=n("V7oC"),de=n.n(fe),he=n("FYw3"),ve=n.n(he),me=n("mRg0"),ye=n.n(me),ge=n("6DQo"),be=n.n(ge),Pe=n("YEIV"),ke=n.n(Pe),Ce=function(e){var t,n,a=e.className,r=e.included,o=e.vertical,i=e.offset,s=e.length,l=e.style,c=e.reverse,u=o?(t={},ke()(t,c?"top":"bottom",i+"%"),ke()(t,c?"bottom":"top","auto"),ke()(t,"height",s+"%"),t):(n={},ke()(n,c?"right":"left",i+"%"),ke()(n,c?"left":"right","auto"),ke()(n,"width",s+"%"),n),p=ce()({},l,u);return r?L.a.createElement("div",{className:a,style:p}):null},Ee=n("jo6Y"),Se=n.n(Ee),Ie=n("tfYw"),Le=n.n(Ie),Oe=n("zT1h"),Te=function(e){var t=e.prefixCls,n=e.vertical,a=e.reverse,r=e.marks,o=e.dots,i=e.step,s=e.included,l=e.lowerBound,c=e.upperBound,u=e.max,p=e.min,f=e.dotStyle,d=e.activeDotStyle,h=u-p,v=function(e,t,n,a,r,o){be()(!n||a>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var i=Object.keys(t).map(parseFloat).sort((function(e,t){return e-t}));if(n&&a)for(var s=r;s<=o;s+=a)-1===i.indexOf(s)&&i.push(s);return i}(0,r,o,i,p,u).map((function(e){var r,o=Math.abs(e-p)/h*100+"%",i=!s&&e===c||s&&e<=c&&e>=l,u=n?ce()({},f,ke()({},a?"top":"bottom",o)):ce()({},f,ke()({},a?"right":"left",o));i&&(u=ce()({},u,d));var v=T()((r={},ke()(r,t+"-dot",!0),ke()(r,t+"-dot-active",i),ke()(r,t+"-dot-reverse",a),r));return L.a.createElement("span",{className:v,style:u,key:e})}));return L.a.createElement("div",{className:t+"-step"},v)};Te.propTypes={prefixCls:R.a.string,activeDotStyle:R.a.object,dotStyle:R.a.object,min:R.a.number,max:R.a.number,upperBound:R.a.number,lowerBound:R.a.number,included:R.a.bool,dots:R.a.bool,step:R.a.number,marks:R.a.object,vertical:R.a.bool,reverse:R.a.bool};var we=Te,Re=function(e){var t=e.className,n=e.vertical,a=e.reverse,r=e.marks,o=e.included,i=e.upperBound,s=e.lowerBound,l=e.max,c=e.min,u=e.onClickLabel,p=Object.keys(r),f=l-c,d=p.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var l,p=r[e],d="object"===typeof p&&!L.a.isValidElement(p),h=d?p.label:p;if(!h&&0!==h)return null;var v=!o&&e===i||o&&e<=i&&e>=s,m=T()((l={},ke()(l,t+"-text",!0),ke()(l,t+"-text-active",v),l)),y=ke()({marginBottom:"-50%"},a?"top":"bottom",(e-c)/f*100+"%"),g=ke()({transform:"translateX(-50%)",msTransform:"translateX(-50%)"},a?"right":"left",a?(e-c/4)/f*100+"%":(e-c)/f*100+"%"),b=n?y:g,P=d?ce()({},b,p.style):b;return L.a.createElement("span",{className:m,style:P,key:e,onMouseDown:function(t){return u(t,e)},onTouchStart:function(t){return u(t,e)}},h)}));return L.a.createElement("div",{className:t},d)};Re.propTypes={className:R.a.string,vertical:R.a.bool,reverse:R.a.bool,marks:R.a.object,included:R.a.bool,upperBound:R.a.number,lowerBound:R.a.number,max:R.a.number,min:R.a.number,onClickLabel:R.a.func};var _e=Re,Ne=function(e){function t(){var e,n,a,r;pe()(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=ve()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={clickFocused:!1},a.setHandleRef=function(e){a.handle=e},a.handleMouseUp=function(){document.activeElement===a.handle&&a.setClickFocus(!0)},a.handleMouseDown=function(){a.focus()},a.handleBlur=function(){a.setClickFocus(!1)},a.handleKeyDown=function(){a.setClickFocus(!1)},r=n,ve()(a,r)}return ye()(t,e),de()(t,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Object(Oe.a)(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e,t,n=this.props,a=n.prefixCls,r=n.vertical,o=n.reverse,i=n.offset,s=n.style,l=n.disabled,c=n.min,u=n.max,p=n.value,f=n.tabIndex,d=Se()(n,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex"]),h=T()(this.props.className,ke()({},a+"-handle-click-focused",this.state.clickFocused)),v=r?(e={},ke()(e,o?"top":"bottom",i+"%"),ke()(e,o?"bottom":"top","auto"),ke()(e,"transform","translateY(+50%)"),e):(t={},ke()(t,o?"right":"left",i+"%"),ke()(t,o?"left":"right","auto"),ke()(t,"transform","translateX("+(o?"+":"-")+"50%)"),t),m=ce()({},s,v),y=f||0;return(l||null===f)&&(y=null),L.a.createElement("div",ce()({ref:this.setHandleRef,tabIndex:y},d,{className:h,style:m,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":c,"aria-valuemax":u,"aria-valuenow":p,"aria-disabled":!!l}))}}]),t}(L.a.Component),De=Ne;Ne.propTypes={prefixCls:R.a.string,className:R.a.string,vertical:R.a.bool,offset:R.a.number,style:R.a.object,disabled:R.a.bool,min:R.a.number,max:R.a.number,value:R.a.number,tabIndex:R.a.number,reverse:R.a.bool};var xe=n("m1cH"),Me=n.n(xe),Ae=n("i8i4"),je=n("4IlW");function Be(e,t){try{return Object.keys(t).some((function(n){return e.target===Object(Ae.findDOMNode)(t[n])}))}catch(n){return!1}}function Fe(e,t){var n=t.min,a=t.max;return e<n||e>a}function Ve(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function Ue(e,t){var n=t.marks,a=t.step,r=t.min,o=t.max,i=Object.keys(n).map(parseFloat);if(null!==a){var s=Math.floor((o-r)/a),l=Math.min((e-r)/a,s),c=Math.round(l)*a+r;i.push(c)}var u=i.map((function(t){return Math.abs(e-t)}));return i[u.indexOf(Math.min.apply(Math,Me()(u)))]}function He(e,t){return e?t.clientY:t.pageX}function ze(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function We(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width}function Ke(e,t){var n=t.max,a=t.min;return e<=a?a:e>=n?n:e}function Ge(e,t){var n=t.step,a=isFinite(Ue(e,t))?Ue(e,t):0;return null===n?a:parseFloat(a.toFixed(function(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}(n)))}function Ye(e){e.stopPropagation(),e.preventDefault()}function Xe(e,t,n){var a="increase";switch(e.keyCode){case je.a.UP:a=t&&n?"decrease":"increase";break;case je.a.RIGHT:a=!t&&n?"decrease":"increase";break;case je.a.DOWN:a=t&&n?"increase":"decrease";break;case je.a.LEFT:a=!t&&n?"increase":"decrease";break;case je.a.END:return function(e,t){return t.max};case je.a.HOME:return function(e,t){return t.min};case je.a.PAGE_UP:return function(e,t){return e+2*t.step};case je.a.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return function(e,t,n){var a={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},r=a[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(n.marks)[r];return n.step?a[e](t,n.step):Object.keys(n.marks).length&&n.marks[o]?n.marks[o]:t}(a,e,t)}}function Je(){}function Ze(e){var t,n;return n=t=function(e){function t(e){pe()(this,t);var n=ve()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onMouseDown=function(e){if(0===e.button){var t=n.props.vertical,a=He(t,e);if(Be(e,n.handlesRefs)){var r=We(t,e.target);n.dragOffset=a-r,a=r}else n.dragOffset=0;n.removeDocumentEvents(),n.onStart(a),n.addDocumentMouseEvents()}},n.onTouchStart=function(e){if(!Ve(e)){var t=n.props.vertical,a=ze(t,e);if(Be(e,n.handlesRefs)){var r=We(t,e.target);n.dragOffset=a-r,a=r}else n.dragOffset=0;n.onStart(a),n.addDocumentTouchEvents(),Ye(e)}},n.onFocus=function(e){var t=n.props,a=t.onFocus,r=t.vertical;if(Be(e,n.handlesRefs)){var o=We(r,e.target);n.dragOffset=0,n.onStart(o),Ye(e),a&&a(e)}},n.onBlur=function(e){var t=n.props.onBlur;n.onEnd(),t&&t(e)},n.onMouseUp=function(){n.handlesRefs[n.prevMovedHandleIndex]&&n.handlesRefs[n.prevMovedHandleIndex].clickFocus()},n.onMouseMove=function(e){if(n.sliderRef){var t=He(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onTouchMove=function(e){if(!Ve(e)&&n.sliderRef){var t=ze(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onKeyDown=function(e){n.sliderRef&&Be(e,n.handlesRefs)&&n.onKeyboard(e)},n.onClickMarkLabel=function(e,t){e.stopPropagation(),n.onChange({value:t}),n.setState({value:t},(function(){return n.onEnd(!0)}))},n.saveSlider=function(e){n.sliderRef=e};var a=e.step,r=e.max,o=e.min,i=!isFinite(r-o)||(r-o)%a===0;return be()(!a||Math.floor(a)!==a||i,"Slider[max] - Slider[min] (%s) should be a multiple of Slider[step] (%s)",r-o,a),n.handlesRefs={},n}return ye()(t,e),de()(t,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillUnmount",value:function(){Le()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&Le()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=this.props,n=t.vertical,a=t.reverse,r=e.getBoundingClientRect();return n?a?r.bottom:r.top:window.pageXOffset+(a?r.right:r.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Object(Oe.a)(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Object(Oe.a)(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Object(Oe.a)(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Object(Oe.a)(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){this.props.disabled||this.handlesRefs[0].focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(t){e.handlesRefs[t]&&e.handlesRefs[t].blur&&e.handlesRefs[t].blur()}))}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,a=t.min,r=t.max,o=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-o)*(r-a)+a:o*(r-a)+a}},{key:"calcValueByPos",value:function(e){var t=(this.props.reverse?-1:1)*(e-this.getSliderStart());return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min;return 100*((e-n)/(t.max-n))}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,n=this.props,a=n.prefixCls,r=n.className,o=n.marks,i=n.dots,s=n.step,l=n.included,c=n.disabled,u=n.vertical,p=n.reverse,f=n.min,d=n.max,h=n.children,v=n.maximumTrackStyle,m=n.style,y=n.railStyle,g=n.dotStyle,b=n.activeDotStyle,P=Le()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this),k=P.tracks,C=P.handles,E=T()(a,(e={},ke()(e,a+"-with-marks",Object.keys(o).length),ke()(e,a+"-disabled",c),ke()(e,a+"-vertical",u),ke()(e,r,r),e));return L.a.createElement("div",{ref:this.saveSlider,className:E,onTouchStart:c?Je:this.onTouchStart,onMouseDown:c?Je:this.onMouseDown,onMouseUp:c?Je:this.onMouseUp,onKeyDown:c?Je:this.onKeyDown,onFocus:c?Je:this.onFocus,onBlur:c?Je:this.onBlur,style:m},L.a.createElement("div",{className:a+"-rail",style:ce()({},v,y)}),k,L.a.createElement(we,{prefixCls:a,vertical:u,reverse:p,marks:o,dots:i,step:s,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:d,min:f,dotStyle:g,activeDotStyle:b}),C,L.a.createElement(_e,{className:a+"-mark",onClickLabel:c?Je:this.onClickMarkLabel,vertical:u,marks:o,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:d,min:f,reverse:p}),h)}}]),t}(e),t.displayName="ComponentEnhancer("+e.displayName+")",t.propTypes=ce()({},e.propTypes,{min:R.a.number,max:R.a.number,step:R.a.number,marks:R.a.object,included:R.a.bool,className:R.a.string,prefixCls:R.a.string,disabled:R.a.bool,children:R.a.any,onBeforeChange:R.a.func,onChange:R.a.func,onAfterChange:R.a.func,handle:R.a.func,dots:R.a.bool,vertical:R.a.bool,style:R.a.object,reverse:R.a.bool,minimumTrackStyle:R.a.object,maximumTrackStyle:R.a.object,handleStyle:R.a.oneOfType([R.a.object,R.a.arrayOf(R.a.object)]),trackStyle:R.a.oneOfType([R.a.object,R.a.arrayOf(R.a.object)]),railStyle:R.a.object,dotStyle:R.a.object,activeDotStyle:R.a.object,autoFocus:R.a.bool,onFocus:R.a.func,onBlur:R.a.func}),t.defaultProps=ce()({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=Se()(e,["index"]);return delete n.dragging,null===n.value?null:L.a.createElement(De,ce()({},n,{key:t}))},onBeforeChange:Je,onChange:Je,onAfterChange:Je,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),n}var qe=function(e){function t(e){pe()(this,t);var n=ve()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(e){var t=n.state.dragging;n.removeDocumentEvents(),(t||e)&&n.props.onAfterChange(n.getValue()),n.setState({dragging:!1})};var a=void 0!==e.defaultValue?e.defaultValue:e.min,r=void 0!==e.value?e.value:a;return n.state={value:n.trimAlignValue(r),dragging:!1},be()(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),be()(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),n}return ye()(t,e),de()(t,[{key:"componentDidUpdate",value:function(e,t){if("value"in this.props||"min"in this.props||"max"in this.props){var n=this.props,a=n.value,r=n.onChange,o=void 0!==a?a:t.value,i=this.trimAlignValue(o,this.props);i!==t.value&&(this.setState({value:i}),Fe(o,this.props)&&r(i))}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t),a=e.value>this.props.max?ce()({},e,{value:this.props.max}):e;n&&this.setState(a);var r=a.value;t.onChange(r)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var a=this.calcValueByPos(e);this.startValue=a,this.startPosition=e,a!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:a}))}},{key:"onMove",value:function(e,t){Ye(e);var n=this.state.value,a=this.calcValueByPos(t);a!==n&&this.onChange({value:a})}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,a=Xe(e,t.vertical,n);if(a){Ye(e);var r=this.state.value,o=a(r,this.props),i=this.trimAlignValue(o);if(i===r)return;this.onChange({value:i}),this.props.onAfterChange(i),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){return this.props.min}},{key:"getUpperBound",value:function(){return this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=ce()({},this.props,t),a=Ke(e,n);return Ge(a,n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.vertical,r=t.included,o=t.disabled,i=t.minimumTrackStyle,s=t.trackStyle,l=t.handleStyle,c=t.tabIndex,u=t.min,p=t.max,f=t.reverse,d=t.handle,h=this.state,v=h.value,m=h.dragging,y=this.calcOffset(v),g=d({className:n+"-handle",prefixCls:n,vertical:a,offset:y,value:v,dragging:m,disabled:o,min:u,max:p,reverse:f,index:0,tabIndex:c,style:l[0]||l,ref:function(t){return e.saveHandle(0,t)}}),b=s[0]||s;return{tracks:L.a.createElement(Ce,{className:n+"-track",vertical:a,included:r,offset:0,reverse:f,length:y,style:ce()({},i,b)}),handles:g}}}]),t}(L.a.Component);qe.propTypes={defaultValue:R.a.number,value:R.a.number,disabled:R.a.bool,autoFocus:R.a.bool,tabIndex:R.a.number,reverse:R.a.bool,min:R.a.number,max:R.a.number};var Qe=Ze(qe),$e=n("VCL8"),et=n("Gytx"),tt=n.n(et),nt=function(e){var t=e.value,n=e.handle,a=e.bounds,r=e.props,o=r.allowCross,i=r.pushable,s=Number(i),l=Ke(t,r),c=l;return o||null==n||void 0===a||(n>0&&l<=a[n-1]+s&&(c=a[n-1]+s),n<a.length-1&&l>=a[n+1]-s&&(c=a[n+1]-s)),Ge(c,r)},at=function(e){function t(e){pe()(this,t);var n=ve()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(e){var t=n.state.handle;n.removeDocumentEvents(),(null!==t||e)&&n.props.onAfterChange(n.getValue()),n.setState({handle:null})};var a=e.count,r=e.min,o=e.max,i=Array.apply(void 0,Me()(Array(a+1))).map((function(){return r})),s="defaultValue"in e?e.defaultValue:i,l=(void 0!==e.value?e.value:s).map((function(t,n){return nt({value:t,handle:n,props:e})})),c=l[0]===o?0:l.length-1;return n.state={handle:null,recent:c,bounds:l},n}return ye()(t,e),de()(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;if(("value"in this.props||"min"in this.props||"max"in this.props)&&(this.props.min!==e.min||this.props.max!==e.max||!tt()(this.props.value,e.value))){var a=this.props,r=a.onChange,o=a.value||t.bounds;if(o.some((function(e){return Fe(e,n.props)})))r(o.map((function(e){return Ke(e,n.props)})))}}},{key:"onChange",value:function(e){var t=this.props;if(!("value"in t))this.setState(e);else{var n={};["handle","recent"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),Object.keys(n).length&&this.setState(n)}var a=ce()({},this.state,e).bounds;t.onChange(a)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,a=this.getValue();t.onBeforeChange(a);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e;var o=this.getClosestBound(r);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(r,o),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),r!==a[this.prevMovedHandleIndex]){var i=[].concat(Me()(n.bounds));i[this.prevMovedHandleIndex]=r,this.onChange({bounds:i})}}},{key:"onMove",value:function(e,t){Ye(e);var n=this.state,a=this.calcValueByPos(t);a!==n.bounds[n.handle]&&this.moveTo(a)}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,a=Xe(e,t.vertical,n);if(a){Ye(e);var r=this.state,o=this.props,i=r.bounds,s=r.handle,l=i[null===s?r.recent:s],c=a(l,o),u=nt({value:c,handle:s,bounds:r.bounds,props:o});if(u===l)return;this.moveTo(u,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,a=1;a<t.length-1;++a)e>=t[a]&&(n=a);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,a=n.bounds,r=n.recent,o=t,i=a[t+1]===a[t];return i&&a[r]===a[t]&&(o=r),i&&e!==a[t+1]&&(o=e<a[t+1]?t:t+1),o}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,a=e.min,r=e.max,o=this._getPointsCache;if(!o||o.marks!==t||o.step!==n){var i=ce()({},t);if(null!==n)for(var s=a;s<=r;s+=n)i[s]=s;var l=Object.keys(i).map(parseFloat);l.sort((function(e,t){return e-t})),this._getPointsCache={marks:t,step:n,points:l}}return this._getPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,a=this.state,r=this.props,o=[].concat(Me()(a.bounds)),i=null===a.handle?a.recent:a.handle;o[i]=e;var s=i;!1!==r.pushable?this.pushSurroundingHandles(o,s):r.allowCross&&(o.sort((function(e,t){return e-t})),s=o.indexOf(e)),this.onChange({recent:s,handle:s,bounds:o}),t&&(this.props.onAfterChange(o),this.setState({},(function(){n.handlesRefs[s].focus()})),this.onEnd())}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],a=this.props.pushable;a=Number(a);var r=0;if(e[t+1]-n<a&&(r=1),n-e[t-1]<a&&(r=-1),0!==r){var o=t+r,i=r*(e[o]-n);this.pushHandle(e,o,r,a-i)||(e[t]=e[o]-r*a)}}},{key:"pushHandle",value:function(e,t,n,a){for(var r=e[t],o=e[t];n*(o-r)<a;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=r,!1;o=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var a=this.getPoints(),r=a.indexOf(e[t])+n;if(r>=a.length||r<0)return!1;var o=t+n,i=a[r],s=this.props.pushable,l=n*(e[o]-i);return!!this.pushHandle(e,o,n,s-l)&&(e[t]=i,!0)}},{key:"trimAlignValue",value:function(e){var t=this.state,n=t.handle,a=t.bounds;return nt({value:e,handle:n,bounds:a,props:this.props})}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,a=t.bounds,r=this.props,o=r.prefixCls,i=r.vertical,s=r.included,l=r.disabled,c=r.min,u=r.max,p=r.reverse,f=r.handle,d=r.trackStyle,h=r.handleStyle,v=r.tabIndex,m=a.map((function(t){return e.calcOffset(t)})),y=o+"-handle",g=a.map((function(t,a){var r,s=v[a]||0;return(l||null===v[a])&&(s=null),f({className:T()((r={},ke()(r,y,!0),ke()(r,y+"-"+(a+1),!0),r)),prefixCls:o,vertical:i,offset:m[a],value:t,dragging:n===a,index:a,tabIndex:s,min:c,max:u,reverse:p,disabled:l,style:h[a],ref:function(t){return e.saveHandle(a,t)}})}));return{tracks:a.slice(0,-1).map((function(e,t){var n,a=t+1,r=T()((n={},ke()(n,o+"-track",!0),ke()(n,o+"-track-"+a,!0),n));return L.a.createElement(Ce,{className:r,vertical:i,reverse:p,included:s,offset:m[a-1],length:m[a]-m[a-1],style:d[t],key:a})})),handles:g}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if("value"in e||"min"in e||"max"in e){var n=(e.value||t.bounds).map((function(n,a){return nt({value:n,handle:a,bounds:t.bounds,props:e})}));return n.length===t.bounds.length&&n.every((function(e,n){return e===t.bounds[n]}))?null:ce()({},t,{bounds:n})}return null}}]),t}(L.a.Component);at.displayName="Range",at.propTypes={autoFocus:R.a.bool,defaultValue:R.a.arrayOf(R.a.number),value:R.a.arrayOf(R.a.number),count:R.a.number,pushable:R.a.oneOfType([R.a.bool,R.a.number]),allowCross:R.a.bool,disabled:R.a.bool,reverse:R.a.bool,tabIndex:R.a.arrayOf(R.a.number),min:R.a.number,max:R.a.number},at.defaultProps={count:1,allowCross:!0,pushable:!1,tabIndex:[]},Object($e.polyfill)(at);var rt=Ze(at),ot=n("OLES");Qe.Range=rt,Qe.Handle=De,Qe.createSliderWithTooltip=function(e){var t,n;return n=t=function(t){function n(){var e,t,a,r;pe()(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=a=ve()(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),a.state={visibles:{}},a.handleTooltipVisibleChange=function(e,t){a.setState((function(n){return{visibles:ce()({},n.visibles,ke()({},e,t))}}))},a.handleWithTooltip=function(e){var t=e.value,n=e.dragging,r=e.index,o=e.disabled,i=Se()(e,["value","dragging","index","disabled"]),s=a.props,l=s.tipFormatter,c=s.tipProps,u=s.handleStyle,p=c.prefixCls,f=void 0===p?"rc-slider-tooltip":p,d=c.overlay,h=void 0===d?l(t):d,v=c.placement,m=void 0===v?"top":v,y=c.visible,g=void 0!==y&&y,b=Se()(c,["prefixCls","overlay","placement","visible"]),P=void 0;return P=Array.isArray(u)?u[r]||u[0]:u,L.a.createElement(ot.a,ce()({},b,{prefixCls:f,overlay:h,placement:m,visible:!o&&(a.state.visibles[r]||n)||g,key:r}),L.a.createElement(De,ce()({},i,{style:ce()({},P),value:t,onMouseEnter:function(){return a.handleTooltipVisibleChange(r,!0)},onMouseLeave:function(){return a.handleTooltipVisibleChange(r,!1)}})))},r=t,ve()(a,r)}return ye()(n,t),de()(n,[{key:"render",value:function(){return L.a.createElement(e,ce()({},this.props,{handle:this.handleWithTooltip}))}}]),n}(L.a.Component),t.propTypes={tipFormatter:R.a.func,handleStyle:R.a.oneOfType([R.a.object,R.a.arrayOf(R.a.object)]),tipProps:R.a.object},t.defaultProps={tipFormatter:function(e){return e},handleStyle:[{}],tipProps:{}},n};var it=Qe,st=L.a.forwardRef((function(e,t){return L.a.createElement(it,i()({ref:t},e))}));st.defaultProps={prefixCls:"nimo-slider"};var lt=st,ct=(n("AIqn"),lt);n("YsQ7");function ut(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var pt=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(ut()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(){var e;f()(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),S()(m()(e),"handleChange",(function(t){var n=t.target,a=n.name,r=n.value;(0,e.props.onChange)(r,a)})),S()(m()(e),"handleSpeedChange",(function(t){(0,e.props.onChange)(t,"speed")})),S()(m()(e),"handleOpacityChange",(function(t){(0,e.props.onChange)(t,"opacity")})),e}return h()(a,[{key:"renderRadios",value:function(e,t){var n=this,a=this.props.value;return t.map((function(t){return L.a.createElement("span",{key:t.value},t.name,L.a.createElement("input",{type:"radio",name:e,value:t.value,onChange:n.handleChange,checked:a[e]===t.value}))}))}},{key:"render",value:function(){var e,t=this.props,n=t.value,a=t.playerLangPkg,r="".concat("bulletscreen-settings","-size-radio n-as-text-center"),o="".concat("bulletscreen-settings","-row"),i=(e={},S()(e,oe.d.speed.xs,"0.5x"),S()(e,oe.d.speed.sm,"0.75x"),S()(e,oe.d.speed.md,"1x"),S()(e,oe.d.speed.lg,"1.25x"),S()(e,oe.d.speed.xl,"1.5x"),e);return L.a.createElement("div",{className:"bulletscreen-settings"},L.a.createElement("div",{className:o},L.a.createElement(ft,null,a.bulletScreenPosition),L.a.createElement(dt,null,L.a.createElement(ie.a,{className:"n-fx-bn",value:n.position,onChange:this.handleChange,name:"position"},L.a.createElement(ht,{value:oe.d.position.full,radioClassName:"full"}),L.a.createElement(ht,{value:oe.d.position.top,radioClassName:"top"}),L.a.createElement(ht,{value:oe.d.position.bottom,radioClassName:"bottom"})))),L.a.createElement("div",{className:o},L.a.createElement(ft,null,a.bulletScreenFontSize),L.a.createElement(dt,null,L.a.createElement(ie.a,{className:"n-fx-bn",value:n.size,onChange:this.handleChange,name:"size"},L.a.createElement(se,{value:oe.d.size.lg,text:"L",className:r}),L.a.createElement(se,{value:oe.d.size.md,text:"M",className:r}),L.a.createElement(se,{value:oe.d.size.sm,text:"S",className:r})))),L.a.createElement("div",{className:o},L.a.createElement(ft,null,a.bulletScreenSpeed),L.a.createElement(dt,{className:"".concat("bulletscreen-settings","-speed-handle")},L.a.createElement(ct,{marks:i,value:n.speed,onChange:this.handleSpeedChange,included:!1,min:oe.d.speed.xs,max:oe.d.speed.xl,step:null}))),L.a.createElement("div",{className:o},L.a.createElement(ft,null,a.bulletScreenOpacity),L.a.createElement(dt,null,L.a.createElement("div",{className:"n-fx-sn"},L.a.createElement(ct,{value:n.opacity,onChange:this.handleOpacityChange,min:0,max:100}),L.a.createElement("div",{className:"".concat("bulletscreen-settings","-opacity-value")},n.opacity,"%")))))}}]),a}(L.a.Component);function ft(e){var t=e.className;return(L.a.createElement("div",i()({},e,{className:"".concat("bulletscreen-settings","-cell n-as-padv-xs ").concat("bulletscreen-settings","-name c1 ").concat(t||"")})))}function dt(e){var t=e.className;return(L.a.createElement("div",i()({},e,{className:"".concat("bulletscreen-settings","-cell n-as-padv-xs ").concat("bulletscreen-settings","-handle ").concat(t||"")})))}var ht=function(e){var t=e.value,n=(e.name,e.radioClassName),a=u()(e,["value","name","radioClassName"]);return(L.a.createElement("label",i()({},a,{className:"".concat("bulletscreen-settings","-position-radio-wrapper n-as-text-center n-as-pointer n-as-rel")}),L.a.createElement("span",{className:"".concat("bulletscreen-settings","-position-radio ").concat(n)},L.a.createElement("input",{type:"radio",value:t}))))};function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var yt=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(mt()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t,r;f()(this,a);var o=e.parent;return r=n.call(this,e),S()(m()(r),"reportSettingsChange",te()((function(e,t){var n=r.props.parent.plugins.get("reporter");if(n){var a=oe.f[e]&&oe.f[e][t];"string"===typeof a?n.reportBulletScreenSettingChange(e,a):"opacity"===e&&"number"===typeof t&&n.reportBulletScreenSettingChange("transparent",t)}}),500)),S()(m()(r),"handleVaryVisible",Object($.a)((function(e){if(e){var t=r.props.parent.plugins.get("reporter");t&&t.reportBulletScreenSettingShow()}}))),S()(m()(r),"onParentIsBulletscreenStateChange",(function(e){var t=e.value;r.setState({isBulletscreen:t})})),S()(m()(r),"handleIsBulletscreenChange",(function(e){var t=r.props.parent,n=t.plugins.get("reporter");n&&n.reportBulletScreenChanged(e?"on":"off"),e?t.setState("isBulletscreen",!0):t.setState("isBulletscreen",!1)})),S()(m()(r),"handleVisibleChange",(function(e){r.setState({isHover:e})})),S()(m()(r),"handleSettingsChange",(function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.state.settings);n[t]=e,r.setState({settings:n}),Object(oe.g)(n),r.reportSettingsChange(t,e),ae.b.emit(ae.a.TEXT_BULLETSCREEN_SETTINGS,{settings:n,value:e,name:t})})),r.state={isBulletscreen:!!(null===o||void 0===o||null===(t=o.state)||void 0===t?void 0:t.isBulletscreen),isHover:!1,settings:Object(oe.e)()},r.popupContainerRef=L.a.createRef(),r.getPopupContainer=function(){return r.popupContainerRef.current},r}return h()(a,[{key:"componentDidMount",value:function(){this.listenAllParentEvents(),this.handleVaryVisible(this._visible)}},{key:"componentDidUpdate",value:function(){this.handleVaryVisible(this._visible)}},{key:"componentWillUnmount",value:function(){this.removeAllParentEvents()}},{key:"listenAllParentEvents",value:function(){this.props.parent.onStateChange("isBulletscreen",this.onParentIsBulletscreenStateChange)}},{key:"removeAllParentEvents",value:function(){this.props.parent.offStateChange("isBulletscreen",this.onParentIsBulletscreenStateChange)}},{key:"renderBtn",value:function(){var e=this.props.playerLangPkg,t=e.disableBullet,n=e.enableBullet,a=this.state.isBulletscreen;return L.a.createElement(re.a,{value:a,className:T()({"bulletscreen-control":!0,"n-as-mrgh":!0}),onChange:this.handleIsBulletscreenChange,title:a?t:n})}},{key:"renderContent",value:function(){var e=this.state.settings,t=this.props.playerLangPkg;return L.a.createElement(pt,{onChange:this.handleSettingsChange,value:e,playerLangPkg:t})}},{key:"render",value:function(){var e=this.state,t=e.isBulletscreen,n=e.isHover;return this._visible=t&&n,L.a.createElement(L.a.Fragment,null,L.a.createElement("div",{className:"nimo-theme-dark bulletscreen-settings-wrapper",ref:this.popupContainerRef}),L.a.createElement(ne.a,{trigger:"hover",content:this.renderContent(),onVisibleChange:this.handleVisibleChange,visible:this._visible,getPopupContainer:this.getPopupContainer,placement:"top",align:{offset:[0,-7]}},this.renderBtn()))}}]),a}(L.a.Component);function gt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var bt="enterpictureinpicture",Pt="leavepictureinpicture",kt=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(gt()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a),t=n.call(this,e),S()(m()(t),"onEnterPIP",(function(){var e=t.props,n=e.parent,a=e.roomId;n.setState("isPIP",!0),t.setState({isPIP:!0});var r=n.plugins.get("reporter");r&&r.reportPIPWindowShow(a)})),S()(m()(t),"onLeavePIP",(function(){t.props.parent.setState("isPIP",!1),t.setState({isPIP:!1})})),S()(m()(t),"listenPIPEvents",(function(){var e=t.props.parent.getVideoElement();e&&(e.addEventListener(bt,t.onEnterPIP),e.addEventListener(Pt,t.onLeavePIP),t.setState({isPIP:t.isInPIPState()}))})),S()(m()(t),"removePIPEvents",(function(){var e=t.props.parent.getVideoElement();e&&(e.removeEventListener(bt,t.onEnterPIP),e.removeEventListener(Pt,t.onLeavePIP),t.setState({isPIP:t.isInPIPState()}),t.listened=!1)})),S()(m()(t),"clickHandler",(function(){if(t.isSupportPIP()){var e=t.props,n=e.parent,a=e.roomId,r=t.switchPIP(),o=n.plugins.get("reporter");o&&o.reportPIPBtnClick(!r,a)}}));var r=e.parent;return t.state={isPIP:r.state.isPIP},t.listened=!1,t.isSupport="pictureInPictureEnabled"in document&&document.pictureInPictureEnabled,t.isLive=r.state.isLive,t.isPlayback=r.state.isPlayback,t}return h()(a,[{key:"UNSAFE_componentWillMount",value:function(){this.listenAllParentEvents()}},{key:"componentWillUnmount",value:function(){this.removeAllParentEvents(),this.removePIPEvents()}},{key:"listenAllParentEvents",value:function(){var e=this.props.parent,t=e.events,n=t.TECH_UPDATE,a=t.MEDIA_ELEMENT_DETACH;e.on(n,this.listenPIPEvents),e.on(a,this.removePIPEvents)}},{key:"removeAllParentEvents",value:function(){var e=this.props.parent,t=e.events,n=t.TECH_UPDATE,a=t.MEDIA_ELEMENT_DETACH;e.off(n,this.listenPIPEvents),e.off(a,this.removePIPEvents)}},{key:"switchPIP",value:function(){var e=this.isInPIPState(),t=this.props.parent.getVideoElement();return e?document.exitPictureInPicture().catch((function(e){console.error(e)})):t.requestPictureInPicture().catch((function(e){console.error(e)})),e}},{key:"isInPIPState",value:function(){var e=this.props.parent.getVideoElement();return e&&e===document.pictureInPictureElement}},{key:"isSupportPIP",value:function(){var e=this.props.parent.getVideoElement();if(!e)return!1;var t=e.disablePictureInPicture,n=0===e.readyState;return this.isSupport&&!t&&!n}},{key:"render",value:function(){var e=this.props,t=e.commonClass,n=e.playerLangPkg,a=n.requestPIP,r=n.exitPIP,o=this.state.isPIP;return this.isSupport&&L.a.createElement("div",{className:T()(S()({"pip-control":!0,pip:o},t,!0)),title:o?r:a,onClick:this.clickHandler},L.a.createElement(F.a,{type:o?"web-pip-on":"web-pip-off"}))}}]),a}(L.a.Component),Ct=n("mTTC"),Et=n("tbCU"),St=n("a13o");function It(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Lt=Object(Et.a)((function(){return Object(St.a)().then((function(e){var t=e.default;return{default:(0,e.ChatBoxReport)(t)}}))}),{loading:!1}),Ot=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(It()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a);var r=e.parent;return t=n.call(this,e),S()(m()(t),"onParentIsFullscreenStateChange",(function(e){var n=e.value;t.setState({isFullscreen:n})})),S()(m()(t),"getContainer",(function(){return t.props.parent.container})),S()(m()(t),"handleClick",(function(){var e=t.state.isFullscreen;Ct.a.checkLogin(!0).then((function(n){!n&&e&&t.exitFullscreen()}))})),t.state={isFullscreen:r.state.isFullscreen},t}return h()(a,[{key:"componentDidMount",value:function(){this.listenAllParentEvents()}},{key:"componentWillUnmount",value:function(){this.removeAllParentEvents()}},{key:"exitFullscreen",value:function(){this.props.parent.fullscreen(!1)}},{key:"listenAllParentEvents",value:function(){this.props.parent.onStateChange("isFullscreen",this.onParentIsFullscreenStateChange)}},{key:"removeAllParentEvents",value:function(){this.props.parent.offStateChange("isFullscreen",this.onParentIsFullscreenStateChange)}},{key:"render",value:function(){var e=this.props,t=e.roomInfo,n=e.commonClass,a=e.baseLangPkg,r=e.playerLangPkg,o=this.state.isFullscreen,i=a||{},s=i.tooFrequent,l=i.sendLimitTips,c=i.sendLimitMaxLength,u=r.send,p=r.pressEnter,f=r.sendFailed,d=T()(n,"input-control","n-as-rnd");return o?L.a.createElement(Lt,{className:d,emojiClassName:"n-as-fs16 c3 n-as-mrgh-xs",inputClassName:"msg-input",sendBtnClassName:"msg-send",roomInfo:t,langPkg:{tooFrequent:s,sendFailed:f,send:u,pressEnter:p,sendLimitTips:l,sendLimitMaxLength:c},components:{Emoji:!1,FansGroup:!1},inputTabIndex:-2,isFullscreen:o,getPopupContainer:this.getContainer,onClick:this.handleClick}):null}}]),a}(L.a.Component),Tt=n("KFtC"),wt=n("OzVy"),Rt=n("8/kV"),_t=n("mqY3"),Nt=window.isHomeSPA?wt.a:function(e){return L.a.createElement("a",i()({},e,{href:e.to}))},Dt=function(e){var t=e.commonClass,n=e.parent,a=e.playerLangPkg.enterChannel,r=e.info,o=r.alise,i=r.roomId,s=r.anchorId,l=r.roomSort,c=r.bannerPosition,u=e.onEnterRoom;return(L.a.createElement(Nt,{className:T()(S()({"enter-room":!0},t,!0)),onClick:function(){var e;n&&!(null===(e=n.state)||void 0===e?void 0:e.isPlaying)&&B.b.lockPlayer(n.id),n.plugins.get("reporter").reportEnterRoomBtnClick({anchorId:s,roomSort:l,position:c+1,mode:"toolbar",type:_t.a}),u&&u(),window.__clickRoomFrom="home-player-enter-room-btn",window.__clickRoomTs=Object(Tt.g)()},to:Object(Rt.k)({alise:o,roomid:i})},L.a.createElement("span",null,a),L.a.createElement("i",{className:"nimo-icon nimo-icon-arrow-right-double"})))};function xt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Mt=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(xt()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a),t=n.call(this,e),S()(m()(t),"onLoadStart",(function(){t.startTracingBufferTime()})),S()(m()(t),"onLoadedData",(function(){t.isLocked=!1})),S()(m()(t),"onTimeUpdate",(function(){var e=t.props.parent.currentTime(),n=m()(t),a=n.state.isDragging,r=n.isLocked;a||r||t.setState({currentTime:e})})),S()(m()(t),"onDurationChange",(function(){var e=t.props.parent.duration();e&&t.setState({duration:e})})),S()(m()(t),"onSeeking",(function(){t.isLocked=!0})),S()(m()(t),"onSeeked",(function(){t.isLocked=!1})),S()(m()(t),"onPlay",(function(){t.startTracingBufferTime()})),S()(m()(t),"onPause",(function(){t.stopTracingBufferTime()})),S()(m()(t),"onEnded",(function(){t.stopTracingBufferTime()})),S()(m()(t),"onParentIsPlaybackStateChange",(function(e){var n=e.value;t.isPlayback=n,n||t.stopTracingBufferTime()})),S()(m()(t),"onParentStreamInfoUpdate",(function(){t.isLocked=!0})),S()(m()(t),"onKeydown",(function(e){var n=e.target.nodeName,a=t.state.currentTime,r=t.state.duration;if("TEXTAREA"===n||"INPUT"===n)return!0;switch(e.key){case"ArrowLeft":a-=5;break;case"ArrowRight":a+=5;break;default:return!0}return clearTimeout(t.shortcutTimeout),a=Math.min(a,r),a=Math.max(a,0),t.setState({currentTime:a}),t.isLocked=!0,t.shortcutTimeout=setTimeout((function(){t.seek(a)}),500),e.stopPropagation(),e.preventDefault(),!1}));var r=e.parent,o=r.state.isPlaying;return t.state={currentTime:r.currentTime()||0,bufferedTime:r.bufferedEnd()||0,targetTime:0,duration:r.duration()||0,isDragging:!1},t.isLocked=!1,t.isPlaying=o,t}return h()(a,[{key:"componentDidMount",value:function(){this.listenKeydownEvent(),this.listenAllVideoEvents(),this.listenAllParentEvents()}},{key:"componentWillUnmount",value:function(){this.stopTracingBufferTime(),this.removeKeydownEvent(),this.removeAllVideoEvents(),this.removeAllParentEvents()}},{key:"onMousedown",value:function(e){if(1===e.buttons){var t=this.progressBar.ownerDocument,n=this.progressBar,a=this.state.duration;this.setState({isDragging:!0}),this.docOnMousemove=this.onMousemove.bind(this),this.docOnMouseup=this.onMouseup.bind(this),t.addEventListener("mousemove",this.docOnMousemove),t.addEventListener("mouseup",this.docOnMouseup);var r=Ut(Ft(n,e).x*a,2);this.setState({isDragging:!0,currentTime:r}),this.onMousemove(e)}}},{key:"onMousemove",value:function(e){var t=this.state,n=t.duration,a=t.isDragging,r=Ut(Ft(this.progressBar,e).x*n,2),o={};a&&(o.currentTime=r),o.targetTime=r,this.setState(o)}},{key:"onMouseup",value:function(e){var t=this.progressBar.ownerDocument,n=this.state,a=n.duration,r=n.isDragging,o=this.progressBar;if(r){t.removeEventListener("mousemove",this.docOnMousemove),t.removeEventListener("mouseup",this.docOnMouseup);var i=Ut(Ft(o,e).x*a,2);this.setState({isDragging:!1,currentTime:i}),this.seek(i)}}},{key:"listenKeydownEvent",value:function(){var e=this.props.containerId;document.getElementById(e).addEventListener("keydown",this.onKeydown)}},{key:"removeKeydownEvent",value:function(){var e=this.props.containerId;document.getElementById(e).removeEventListener("keydown",this.onKeydown)}},{key:"listenAllVideoEvents",value:function(){var e=this.props.parent;e.on("loadstart",this.onLoadStart),e.on("loadeddata",this.onLoadedData),e.on("timeupdate",this.onTimeUpdate),e.on("durationchange",this.onDurationChange),e.on("seeking",this.onSeeking),e.on("seeked",this.onSeeked),e.on("play",this.onPlay),e.on("pause",this.onPause),e.on("ended",this.onEnded)}},{key:"removeAllVideoEvents",value:function(){var e=this.props.parent;e.off("loadstart",this.onLoadStart),e.off("loadeddata",this.onLoadedData),e.off("timeupdate",this.onTimeUpdate),e.off("durationchange",this.onDurationChange),e.off("seeking",this.onSeeking),e.off("seeked",this.onSeeked),e.off("play",this.onPlay),e.off("pause",this.onPause),e.off("ended",this.onEnded)}},{key:"listenAllParentEvents",value:function(){var e=this.props.parent,t=e.events.STREAM_INFO_UPDATE;e.onStateChange("isPlayback",this.onParentIsPlaybackStateChange),e.on(t,this.onParentStreamInfoUpdate)}},{key:"removeAllParentEvents",value:function(){var e=this.props.parent,t=e.events.STREAM_INFO_UPDATE;e.offStateChange("isPlayback",this.onParentIsPlaybackStateChange),e.off(t,this.onParentStreamInfoUpdate)}},{key:"startTracingBufferTime",value:function(){var e=this,t=this.props.parent;this.stopTracingBufferTime(),this.tracingInterval=setInterval((function(){var n=t.bufferedEnd();e.setState({bufferedTime:n})}),1e3)}},{key:"stopTracingBufferTime",value:function(){clearInterval(this.tracingInterval)}},{key:"seek",value:function(e){var t=this.props.parent;this.isLocked=!0,t.currentTime(e)}},{key:"createDOMRef",value:function(e,t){this[t]=e}},{key:"render",value:function(){var e=this,t=this.props.commonClass,n=this.state,a=n.currentTime,r=n.targetTime,o=n.bufferedTime,i=n.duration,s=void 0===i?1:i,l=n.isDragging,c=this.progressBar,u=void 0===c?{}:c,p=this.progressCursor,f=void 0===p?{}:p,d=this.targetTip,h=void 0===d?{}:d,v=a/s,m=o/s,y=r/s,g=u.clientWidth||0;return L.a.createElement(L.a.Fragment,null,L.a.createElement("div",{className:T()(S()({"progress-control":!0,mousedown:l},t,!0)),ref:function(t){e.progressBar=t},onMouseDown:function(t){e.onMousedown(t)},onMouseMove:function(t){e.onMousemove(t)},onMouseUp:function(t){e.onMouseup(t)}},L.a.createElement("div",{className:"buffered-wrapper"},L.a.createElement("div",{className:"buffered-slider",style:{transform:"scaleX(".concat(m,")")}})),L.a.createElement(jt,{targetPos:y,targetTime:r,parentWidth:g,createDOMRef:function(){return e.createDOMRef.apply(e,arguments)},targetTip:h}),L.a.createElement(At,{currentPos:v,parentWidth:g,createDOMRef:function(){return e.createDOMRef.apply(e,arguments)},progressCursor:f})),L.a.createElement(Bt,{commonClass:t,currentTime:a,duration:s}))}}]),a}(L.a.Component),At=function(e){var t=e.currentPos,n=e.parentWidth,a=e.createDOMRef,r=e.progressCursor.clientWidth,o=void 0===r?0:r,i=t*n;return i=Math.max(i,o/2),i=Math.min(i,n-o/2),L.a.createElement("div",{className:"progress-wrapper"},L.a.createElement("div",{className:"progress-thumb",style:{transform:"scaleX(".concat(t,")")}}),L.a.createElement("div",{className:"progress-cursor",ref:function(e){return a(e,"progressCursor")},style:{transform:"translateX(".concat(i,"px)")}},L.a.createElement("div",{className:"progress-cursor-point"})))},jt=function(e){var t=e.targetPos,n=e.targetTime,a=e.parentWidth,r=e.createDOMRef,o=e.targetTip.clientWidth,i=t*a;i=Math.max(i,o/2),i=Math.min(i,a-o/2);var s=Vt(n),l=s.minute,c=s.second;return(L.a.createElement("div",{className:"target-wrapper"},L.a.createElement("div",{className:"target-cursor",style:{transform:"translateX(".concat(t*a,"px)")}}),L.a.createElement("div",{className:"target-tip",ref:function(e){return r(e,"targetTip")},style:{transform:"translateX(".concat(i-o/2,"px)")}},"".concat(l,":").concat(c))))},Bt=function(e){var t=e.commonClass,n=e.duration,a=Vt(e.currentTime),r=a.minute,o=a.second,i=Vt(n),s=i.minute,l=i.second;return L.a.createElement("div",{className:T()(S()({"time-label-control":!0},t,!0))},"".concat(r,":").concat(o)," / ","".concat(s,":").concat(l))};function Ft(e,t){var n={},a=function(e){var t;e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect());if(!t)return{left:0,top:0};return t}(e),r=e.offsetWidth,o=e.offsetHeight,i=a.top,s=a.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(i-l+o)/o)),n.x=Math.max(0,Math.min(1,(c-s)/r)),n}function Vt(e){var t=Math.floor(e),n=["minute","second"],a={};return[60,1].forEach((function(e,r){var o=Math.floor(t/e);a[n[r]]=function(e){if(Number.isNaN(e))return"00";return e<10?"0".concat(e):"".concat(e)}(o),t-=o*e})),a}function Ut(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var Ht=Mt;function zt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Wt=({MODE:{ROOM:"room",CLIP:"clip",EMBED:"embed",INDEX:"index",LIST:"list",DASHBOARD:"dashboard"},TYPE:{LIVE:"live",VIDEO:"video"},VIDEO_STATUS:{UPDATING:0,UDPATE_FAILED:1,REVIEWING:2,REVIEW_FAILED:3,NOT_PUBLISHED:4,PUBLISHED:5,NOT_EXISTED:6},RATE_MAP:{2:"720",3:"480",4:"360",5:"240",6:"1080"},RATE_ORDER:[1,6,2,3,4,5],CDN_MAP:{1:"ws",2:"tx",3:"al",4:"ms"},MEDIA_TYPE_MAP:{1:"flv",2:"hls",3:"rtmp",10:"mp4"},MIMETYPE_MAP:{1:"video/x-flv",2:"application/x-mpegurl",10:"video/mp4"},MEDIA_TYPE_MAP_INVERT:{flv:1,m3u8:2,rtmp:3,mp4:10},RATE_IN_DECREASE:[1,6,2,3,4,5],SIZE_MAP:{PIP:"pip",NORMAL:"normal",THEATER:"theater",FULLSCREEN:"fullscreen"}}||{}).SIZE_MAP,Kt=!0,Gt=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(zt()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;return f()(this,a),t=n.call(this,e),S()(m()(t),"_THEATER_CLASS_NAME","n-as-theater"),t.state={isTheater:!1},t.handleDocumentKeyDown=t.handleDocumentKeyDown.bind(m()(t)),t.handleParentSizeStateChange=t.handleParentSizeStateChange.bind(m()(t)),t.handleClick=t.handleClick.bind(m()(t)),t.handleParentIsLiveStateChange=t.handleParentIsLiveStateChange.bind(m()(t)),t.handleParentIsPlaybackStateChange=t.handleParentIsPlaybackStateChange.bind(m()(t)),t}return h()(a,[{key:"componentDidMount",value:function(){var e=this.props.parent;this._setParentSizeState(Wt.NORMAL),document.addEventListener("keydown",this.handleDocumentKeyDown),e.onStateChange("size",this.handleParentSizeStateChange),e.onStateChange("isLive",this.handleParentIsLiveStateChange),e.onStateChange("isPlayback",this.handleParentIsPlaybackStateChange)}},{key:"componentWillUnmount",value:function(){var e=this.props.parent;this._setBodyTheaterClass(!1),document.removeEventListener("keydown",this.handleDocumentKeyDown),e.offStateChange("size",this.handleParentSizeStateChange),e.offStateChange("isLive",this.handleParentIsLiveStateChange),e.offStateChange("isPlayback",this.handleParentIsPlaybackStateChange)}},{key:"handleDocumentKeyDown",value:function(e){this.state.isTheater&&"Escape"===e.key&&!e.shiftKey&&(this._setParentSizeState(Wt.NORMAL),this._reportTheaterChanged(!1,{mode:"ESC"}))}},{key:"handleParentSizeStateChange",value:function(e){var t=e.value===Wt.THEATER;this._setBodyTheaterClass(t),this._setIsTheater(t)}},{key:"handleClick",value:function(){var e=this.props,t=e.parent,n=e.theaterTipShow,a=void 0!==n&&n,r=t.state,o=r.size,i=r.isBulletscreen;o===Wt.THEATER?(this._setParentSizeState(Wt.NORMAL),this._reportTheaterChanged(!1,{mode:"btn"}),i!==Kt&&t.setState("isBulletscreen",Kt)):(this._setParentSizeState(Wt.THEATER),this._reportTheaterChanged(!0,{time:a?"tip":"notip"}),o===Wt.FULLSCREEN&&this._parentFullscreen(!1),Kt=i,i&&t.setState("isBulletscreen",!1))}},{key:"handleParentIsLiveStateChange",value:function(e){var t=e.value;this.state.isTheater&&!t&&(this._setParentSizeState(Wt.NORMAL),this._reportTheaterChanged(!1,{mode:"live_end"}))}},{key:"handleParentIsPlaybackStateChange",value:function(e){var t=e.value;this.state.isTheater&&!t&&(this._setParentSizeState(Wt.NORMAL),this._reportTheaterChanged(!1,{mode:"replay_end"}))}},{key:"_reportTheaterChanged",value:function(e,t){var n=this.props.parent.plugins.get("reporter");n&&n.reportTheaterChanged(e,t)}},{key:"_parentFullscreen",value:function(e){this.props.parent.fullscreen(e)}},{key:"_setBodyTheaterClass",value:function(e){var t=document.body.classList,n=t.contains(this._THEATER_CLASS_NAME);!e&&n?t.remove(this._THEATER_CLASS_NAME):e&&!n&&t.add(this._THEATER_CLASS_NAME)}},{key:"_setParentSizeState",value:function(e){this.props.parent.setState("size",e)}},{key:"_setIsTheater",value:function(e){this.setState({isTheater:e})}},{key:"render",value:function(){var e=this.props,t=e.commonClass,n=e.playerLangPkg||{},a=n.disableTheater,r=n.enableTheater,o=this.state.isTheater,i=T()(t,"theater-control","n-as-pointer");return L.a.createElement("div",{className:i,onClick:this.handleClick,title:o?a:r},L.a.createElement(F.a,{type:o?"web-theater-on":"web-theater-off"}))}}]),a}(L.a.PureComponent),Yt=n("7W03");n("WZ5D");function Xt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Jt=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(Xt()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;return f()(this,a),t=n.call(this,e),S()(m()(t),"handleLastVisible",Object($.a)((function(e){var n=t.props,a=n.parent,r=n.lockControlDisplay,o=n.unlockControlDisplay,i=n.setHideControlTimeout,s=a.plugins.get("reporter");e?(a.setState("isControls",!0),r(),N.b.set("nimo_player_theater_tip_occur",1),s&&s.reportTheaterModeTipsShow()):(o(),i())}))),S()(m()(t),"handleBulletscreenStageChange",(function(e){var n=!1;e.value||(N.b.get("nimo_player_bullet_off")||(N.b.set("nimo_player_bullet_off",1),n=!0));t.setFirstBulletscreenOff(n)})),S()(m()(t),"handleScreenSizeStateChange",(function(e){var n=e.value,a=t.props.parent.const.SIZE_MAP;if(n===a.THEATER)N.b.set("nimo_player_theater_on",1),t.state.firstShowTips&&t.setFirstShowTips(!1);else if(n===a.FULLSCREEN){var r=t.props.parent.state.isBulletscreen;N.b.get("nimo_player_bulletscreen_off_fullscreen_on")||r?t.setFirstBulletOfFullscreenOn(!1):(N.b.set("nimo_player_bulletscreen_off_fullscreen_on",1),t.setFirstBulletOfFullscreenOn(!0))}})),S()(m()(t),"setFirstShowTips",(function(e){t.setState({firstShowTips:e})})),S()(m()(t),"setFirstTheaterOn",(function(e){t.setState({firstTheaterOn:e})})),S()(m()(t),"setFirstBulletscreenOff",(function(e){t.setState({firstBulletscreenOff:e})})),S()(m()(t),"setFirstBulletOfFullscreenOn",(function(e){t.setState({firstBulletOfFullscreenOn:e})})),S()(m()(t),"hideTheaterTips",(function(){t.setFirstShowTips(!1),t.props.parent.plugins.get("reporter").reportTheaterModeTipsClose()})),t.state={firstShowTips:!1,firstTheaterOn:!1,firstBulletscreenOff:!1,firstBulletOfFullscreenOn:!1},t}return h()(a,[{key:"componentDidMount",value:function(){var e=this.props.parent,t=N.b.get("nimo_player_theater_tip_occur"),n=N.b.get("nimo_player_theater_on");t||this.setFirstShowTips(!0),n||this.setFirstTheaterOn(!0),e.onStateChange("isBulletscreen",this.handleBulletscreenStageChange),e.onStateChange("size",this.handleScreenSizeStateChange),this.handleLastVisible(this._visible)}},{key:"componentDidUpdate",value:function(){this.handleLastVisible(this._visible)}},{key:"componentWillUnmount",value:function(){var e=this.props.parent;e.offStateChange("isBulletscreen",this.handleBulletscreenStageChange),e.offStateChange("size",this.handleScreenSizeStateChange)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.playerLangPkg,a=e.getPopupContainer,r=this.state,o=r.firstShowTips,i=r.firstBulletscreenOff,s=r.firstTheaterOn,l=r.firstBulletOfFullscreenOn;return this._visible=o&&s&&(i||l),L.a.createElement(Yt.a,{visible:this._visible,placement:"topRight",overlayClassName:"nimo-theater-tips-popover",autoAdjustOverflow:!1,overlay:L.a.createElement("div",null,L.a.createElement("div",{className:"nimo-theater-tips-mask"}),L.a.createElement(F.a,{type:"ic-close",className:"nimo-theater-tips-close-btn n-as-pointer",onClick:this.hideTheaterTips}),n.theaterModeTips),getPopupContainer:a},t({theaterTipShow:this._visible}))}}]),a}(L.a.Component),Zt=n("Dp90"),qt=n("66+j"),Qt=window.isHomeSPA?wt.a:function(e){return L.a.createElement("a",i()({},e,{href:e.to}))},$t=function(e){var t=e.commonClass,n=e.parent,a=e.playerLangPkg.logoTips,r=e.info,o=e.from,i=void 0===o?"embed_logo":o,s=e.onEnterRoom,l=(r||{}).isVideo?Object(Zt.b)(r):Object(Rt.k)(r);return i&&(l=Object(qt.a)(l,{_from:i})),L.a.createElement(Qt,{className:T()(t,"logo-control","n-fx0"),onClick:function(){n.pause(),n.plugins.get("reporter").reportClickLogo({roomId:r.roomId}),s&&s()},to:l,title:a,target:"_blank"})};function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var nn=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(tn()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a),t=n.call(this,e),S()(m()(t),"onKeyDown",(function(){t.showControls()})),S()(m()(t),"onContainerMouseMove",(function(){t.onMouseMove()})),S()(m()(t),"onParentConfigChange",(function(e){var n=e.value,a=n.type,r=n.mode;t.setState({type:a,mode:r})})),S()(m()(t),"onParentIsControlsStateChange",(function(e){var n=e.value;t.setState({show:n})})),S()(m()(t),"setHideControlTimeout",(function(){t.clearHideControlTimeout(),t.timeout=setTimeout((function(){t.hideControls()}),2e3)})),S()(m()(t),"clearHideControlTimeout",(function(){clearTimeout(t.timeout)})),S()(m()(t),"lockControlDisplay",(function(e){t.setState({locked:e})})),S()(m()(t),"handleMouseEnter",(function(){t.lockControlDisplay(!0),t.showControls()})),S()(m()(t),"handleMouseLeave",(function(){t.lockControlDisplay(!1),t.setHideControlTimeout()})),S()(m()(t),"getPopupContainer",(function(){return t.controlsRef.current}));var r=e.parent,o=r.type,i=r.mode;return r.onConfigChange(t.onParentConfigChange),t.state={type:o,mode:i,show:!1,locked:!1},t.controlsRef=L.a.createRef(),t.lockCount=0,t}return h()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.parent,n=e.containerId,a=document.getElementById(n);t.onStateChange("isControls",this.onParentIsControlsStateChange),n&&a&&(a.addEventListener("mousemove",this.onContainerMouseMove),a.addEventListener("keydown",this.onKeyDown)),this.setState({show:!0}),this.showControls()}},{key:"componentWillUnmount",value:function(){this.clearHideControlTimeout();var e=this.props,t=e.parent,n=e.containerId,a=document.getElementById(n);t.offConfigChange(this.onParentConfigChange),t.offStateChange("isControls",this.onParentIsControlsStateChange),a&&(a.removeEventListener("mousemove",this.onContainerMouseMove),a.removeEventListener("keydown",this.onKeyDown))}},{key:"onMouseMove",value:function(){this.showControls()}},{key:"showControls",value:function(){var e=this.props.parent,t=this.state.locked;e.setState("isControls",!0),this.setHideControlTimeout(),t&&this.clearHideControlTimeout()}},{key:"hideControls",value:function(){this.props.parent.setState("isControls",!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parent,a=t.playerLangPkg,r=t.baseLangPkg,o=t.info,s=t.onEnterRoom,l=t.containerId,c=o.roomId,u=o.anchorId,p=n.const,f=p.MODE,d=f.ROOM,h=f.INDEX,v=(f.CLIP,f.DASHBOARD),m=f.EMBED,y=p.TYPE,g=y.LIVE,b=y.VIDEO,P=this.state,k=P.type,C=P.mode,E=P.show,I=P.locked,O={parent:n,commonClass:"control-item",playerLangPkg:a,baseLangPkg:r,containerId:l},w=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},O,{controlsRef:this.controlsRef,lockControlDisplay:function(){return e.lockControlDisplay(!0)},unlockControlDisplay:function(){return e.lockControlDisplay(!1)},setHideControlTimeout:this.setHideControlTimeout,getPopupContainer:this.getPopupContainer});return L.a.createElement("div",{className:T()({controls:!0,show:I||E}),mode:C,type:k,ref:this.controlsRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},L.a.createElement("div",{className:"sub-block"},L.a.createElement(U,O),k===g&&C!==v?L.a.createElement(z,O):null,k===b?L.a.createElement(Ht,O):null),C===d&&k===g?L.a.createElement("div",{className:"sub-block"},L.a.createElement(Ot,i()({},O,{roomInfo:{roomId:c,anchorId:u}}))):null,L.a.createElement("div",{className:"sub-block"},L.a.createElement(G,O),C!==v?L.a.createElement(J,O):null,C===d?L.a.createElement(yt,w):null,C!==h?[C!==v?L.a.createElement(kt,i()({},O,{roomId:c,key:"0"})):null,C===d?L.a.createElement(Jt,i()({},w,{key:"1"}),(function(e){var t=e.theaterTipShow;return(L.a.createElement(Gt,i()({},O,{theaterTipShow:t})))})):null,L.a.createElement(Q,i()({},O,{key:"2"}))]:null,C===h?L.a.createElement(Dt,i()({},O,{info:o,onEnterRoom:s})):null,C===m?L.a.createElement($t,i()({},O,{info:o,onClick:s})):null))}}]),a}(L.a.Component);S()(nn,"defaultProps",{parent:{},playerLangPkg:{},baseLangPkg:{},info:{}});var an=nn,rn=(n("hbdd"),an),on=n("6Dm3"),sn=n("SA+Z"),ln=n.n(sn),cn=n("L0GJ"),un=n("SbtA"),pn=n("XMoT"),fn=n("6qIW"),dn=n("wIxy");function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var mn=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(vn()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(){var e;f()(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),S()(m()(e),"onClickVideoCover",(function(t,n){(0,e.props.onClickCover)(t,n)})),e}return h()(a,[{key:"componentDidMount",value:function(){Object(pn.a)()}},{key:"componentDidUpdate",value:function(){Object(pn.a)()}},{key:"onClickRoomCover",value:function(e,t){(0,this.props.onClickCover)(e,t),Object(Rt.j)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({roomId:null===e||void 0===e?void 0:e.id},e,{_from:"player-rec"}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.list,a=t.title,r=void 0===a?"":a,o=t.group,i=n.concat([null,null,null]).slice(0,3).map((function(t,n){return t?L.a.createElement("li",{className:"n-fx1 n-as-mrgh-xxs",key:null===t||void 0===t?void 0:t.id},0===o?L.a.createElement(dn.a,{dataSource:t,showDotTypeText:!0,onClickCover:e.onClickVideoCover,reserveLinkBehavior:!window.isHomeSPA}):L.a.createElement(fn.a,{dataSource:t,onClickCover:function(t){return e.onClickRoomCover(t,n)},from:"player-rec"})):L.a.createElement("li",{className:"nimo-live__placeholder n-fx1 n-as-mrgh-xxs",key:n})}));return L.a.createElement("div",null,n.length>0?L.a.createElement("p",{className:"title"},r):null,L.a.createElement("ul",{className:"recommend-list n-as-mrgh-xxs-back"},i))}}]),a}(L.a.Component);function yn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var gn=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(yn()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a),t=n.call(this,e),S()(m()(t),"onParentIsLiveStateChange",(function(e){var n=e.value,a=t.props.parent,r=a.mode,o=a.const.MODE,i=t.state.isPlayback;t.setState({isLive:n}),i||n||r===o.EMBED||t.getRecommendList()})),S()(m()(t),"onParentIsPlaybackStateChange",(function(e){var n=e.value,a=t.props.parent,r=a.mode,o=a.const.MODE,i=t.state.isLive;t.setState({isPlayback:n}),i||n||r===o.EMBED||t.getRecommendList()}));var r=e.greyGroup;return t.state={isLive:!1,isPlayback:!1,recommendList:[]},t.greyGroup=r,t.isPending=!1,t}return h()(a,[{key:"componentDidMount",value:function(){var e=this.props.parent.state,t=e.isLive,n=e.isPlayback;this.setState({isLive:t,isPlayback:n}),t||n||this.getRecommendList(),this.listenAllParentEvents()}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0,this.removeAllParentEvents()}},{key:"getRecommendList",value:function(){var e=this;if(!this.isPending){var t=this.props.info,n=t.roomId,a=t.gameId,r=t.anchorId,o=t.anchorLang;this.isPending=!0,0===this.greyGroup?M.a.fetchAggregateVideos(r).then((function(t){var n=t.aggregateVideoLists;if(!e.isUnmounted){e.isPending=!1;var a=[],r=[];if([1,3,4].forEach((function(e){var t=n.find((function(t){return t.dotType===e})),o=ln()(t.liveVideoViewList),i=o[0],s=o.slice(1);a.push(i),r=r.concat(s)})),0===(a=a.concat(r).filter((function(e){return e}))).length)return e.changeGreyGroup(1),void e.getRecommendList();e.reportRecommendListShow(),e.setState({recommendList:a.slice(0,3)})}})):un.liveRoomModel.fetchRecommendLiveRoomListForWeb({roomId:n,gameId:a,clang:"".concat(o)}).then((function(t){e.isUnmounted||(e.isPending=!1,e.reportRecommendListShow(),e.setState({recommendList:t}))})).catch((function(){}))}}},{key:"changeGreyGroup",value:function(e){this.greyGroup=e}},{key:"listenAllParentEvents",value:function(){var e=this.props.parent;e.onStateChange("isLive",this.onParentIsLiveStateChange),e.onStateChange("isPlayback",this.onParentIsPlaybackStateChange)}},{key:"removeAllParentEvents",value:function(){var e=this.props.parent;e.offStateChange("isLive",this.onParentIsLiveStateChange),e.offStateChange("isPlayback",this.onParentIsPlaybackStateChange)}},{key:"handleClickCover",value:function(e,t){var n=this.props.parent.plugins,a=e.roomSort,r=Object(Rt.f)(a),o=n.get("reporter");o&&(o.reportEnterRoom("player_recommand",r),o.reportRecommendListClick(t+1,this.greyGroup))}},{key:"handleClickGoNow",value:function(){var e=this.props.info.roomId;this.reportClickGoNow(),Object(Rt.i)("/user/".concat(e))}},{key:"handleClickMore",value:function(){var e=this.props.info.roomId;this.reportClickMore();var t=0===this.greyGroup?"/user/".concat(e):"/lives";Object(Rt.i)(t)}},{key:"reportRecommendListShow",value:function(){var e=this.props.parent.plugins.get("reporter");e&&e.reportRecommendListShow(this.greyGroup)}},{key:"reportClickGoNow",value:function(){var e=this.props.parent.plugins.get("reporter");e&&e.reportToPersonalPageClick()}},{key:"reportClickMore",value:function(){var e=this.props.parent.plugins.get("reporter");e&&e.reportRecommendMoreBtnClick(this.greyGroup)}},{key:"render",value:function(){var e=this,t=this.props,n=t.playerLangPkg,a=t.baseLangPkg,r=t.parent,o=this.state,i=o.isLive,s=o.isPlayback,l=o.recommendList,c=r.mode,u=r.const.MODE.EMBED,p=this.greyGroup,f=n.offlineAndShowVideoList,d=n.offlineAndToHomepage,h=n.onTheWay,v=n.goNow,m=n.recommend,y={"-1":h,0:f,1:d},g=1===p?m:"",b=l.length||1===p,P=c===u;return i||s||!b&&!P?null:L.a.createElement("div",{className:"off-live"},L.a.createElement("div",{className:"off-live-wrapper"},L.a.createElement("div",{className:"header"},L.a.createElement("i",{className:"i-msg"}),L.a.createElement("p",{className:"text"},y[p]),1!==p||P?null:L.a.createElement("a",{className:"to-homepage n-as-pointer",onClick:function(){e.handleClickGoNow()}},v)),L.a.createElement(mn,{list:l,title:g,group:p,onClickCover:function(t,n){e.handleClickCover(t,n)}}),P?null:L.a.createElement(cn.a,{className:"recommend-more",type:"secondary",onClick:function(){return e.handleClickMore()}},a.more)))}}]),a}(L.a.Component);S()(gn,"defaultProps",{parent:{},info:{},playerLangPkg:{},baseLangPkg:{},greyGroup:-1});n("VsDA");var bn=gn;function Pn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var kn="time_out",Cn="repeatedly",En=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(Pn()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;return f()(this,a),t=n.call(this,e),S()(m()(t),"onWaiting",(function(){-1===t.carltonDurationTimeout&&t.canStat&&(t.carltonDurationTimeout=setTimeout((function(){t.onRealCarlton()}),500))})),S()(m()(t),"onCanPlay",(function(){clearTimeout(t.carltonDurationTimeout),t.carltonDurationTimeout=-1,clearTimeout(t.carltonAlertTimeout),t.setState({alert:!1})})),S()(m()(t),"onLoadStart",(function(){t.canStat=!1,t.carltonCount=0,t.carltonRecords=[],clearTimeout(t.carltonDurationTimeout),t.carltonDurationTimeout=-1,clearTimeout(t.carltonAlertTimeout),t.setState({alert:!1,succeed:!1})})),S()(m()(t),"onLoadedData",(function(){t.canStat=!0})),S()(m()(t),"onParentIsLiveStateChange",(function(e){var n=e.value;t.setState({isLive:n})})),S()(m()(t),"onParentIsIdleStateChange",(function(e){var n=e.value;t.setState({isIdle:n})})),t.state={isLive:!1,isIdle:!1,alert:!1,reason:"",from:0,to:0,succeed:!1},t.canStat=!1,t.carltonCount=0,t.carltonDurationTimeout=-1,t.carltonAlertTimeout=-1,t.carltonRecords=[],t}return h()(a,[{key:"componentDidMount",value:function(){var e=this.props.parent;this.canStat=e.state.dataLoaded,this.setState({isLive:e.state.isLive}),this.listenAllVideoEvents(),this.listenAllParentEvents(),e.state.dataLoaded&&this.onLoadedData()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.carltonDurationTimeout),this.carltonDurationTimeout=-1,clearTimeout(this.carltonAlertTimeout),clearTimeout(this.switchResultTimeout),this.removeAllVideoEvents(),this.removeAllParentEvents()}},{key:"onRealCarlton",value:function(){var e=this,t=this.props.parent,n=Date.now(),a=this.carltonRecords;this.carltonAlertTimeout=setTimeout((function(){t.logger.log(""),e.alert(kn)}),5e3),this.carltonCount+=1,a.push(n),a.length>3&&(a.shift(),n-a[0]<=3e4&&(t.logger.log(""),this.alert(Cn)))}},{key:"alert",value:function(e){if(!0!==this.state.alert){var t=this.props.parent,n=t.const.RATE_ORDER,a=t.getRates(),r=t.getStreamInfo().rate,o=n.filter((function(e){return a.indexOf(e)>-1})),i=o.indexOf(r);if(i>-1){var s=o[Math.min(o.length-1,i+1)];this.setState({from:r,to:s,reason:e,alert:!0});var l=t.plugins.get("reporter");l&&l.reportReduceRateShow({target:s,original:r,reason:e})}}}},{key:"switchRate",value:function(){var e=this,t=this.props.parent,n=this.state,a=n.from,r=n.to,o=n.reason;this.setState({alert:!1,reason:""}),t.once("loadeddata",(function(){e.showSwitchResult()})),a===r?t.refresh():t.switchRate(r);var i=t.plugins.get("reporter");i&&i.reportReduceRateClick({target:r,original:a,reason:o})}},{key:"showSwitchResult",value:function(){var e=this;this.setState({succeed:!0}),clearTimeout(this.switchResultTimeout),this.switchResultTimeout=setTimeout((function(){e.setState({succeed:!1})}),2e3)}},{key:"listenAllVideoEvents",value:function(){var e=this.props.parent;e.on("waiting",this.onWaiting),e.on("canplay",this.onCanPlay),e.on("loadstart",this.onLoadStart),e.on("loadeddata",this.onLoadedData)}},{key:"removeAllVideoEvents",value:function(){var e=this.props.parent;e.off("waiting",this.onWaiting),e.off("canplay",this.onCanPlay),e.off("loadstart",this.onLoadStart),e.off("loadeddata",this.onLoadedData)}},{key:"listenAllParentEvents",value:function(){var e=this.props.parent;e.onStateChange("isLive",this.onParentIsLiveStateChange),e.onStateChange("isIdle",this.onParentIsIdleStateChange)}},{key:"removeAllParentEvents",value:function(){var e=this.props.parent;e.offStateChange("isLive",this.onParentIsLiveStateChange),e.offStateChange("isIdle",this.onParentIsIdleStateChange)}},{key:"render",value:function(){var e=this.props,t=e.parent,n=e.playerLangPkg,a=t.const.RATE_MAP,r=this.state,o=r.from,i=r.to,s=r.alert,l=r.succeed,c=r.isLive,u=r.isIdle,p=o===i;return c&&!u&&(s||l)?L.a.createElement("div",{className:"carlton-alert"},s?[p?null:L.a.createElement("div",{className:"content n-fx-cc",onClick:this.switchRate.bind(this),key:"0"},n.decreaseClarity||"",L.a.createElement("span",{className:"from"},"".concat(a[o],"P")),L.a.createElement("span",{className:"arrow"}),L.a.createElement("span",{className:"to"},"".concat(a[i],"P"))),p?L.a.createElement("div",{className:"content reload",onClick:this.switchRate.bind(this),key:"1"},n.reload||""):null]:null,l?L.a.createElement("div",{className:"succeed"},n.switchTo||"",L.a.createElement("span",{className:"to"}," ".concat(a[i],"P"))):null):null}}]),a}(L.a.Component),Sn=(n("aBrD"),En);function In(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ln=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(In()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a),t=n.call(this,e),S()(m()(t),"onParentIsLoadingStateChange",(function(e){var n=e.value;t.setState({isLoading:n})})),S()(m()(t),"onParentIsPlayingStateChange",(function(e){var n=e.value;t.setState({isPlaying:n})})),S()(m()(t),"onParentIsLiveStateChange",(function(e){var n=e.value;t.setState({isLive:n})})),S()(m()(t),"onParentIsPlaybackStateChange",(function(e){var n=e.value;t.setState({isPlayback:n})}));var r=e.parent.state,o=r.isPlaying,i=r.isLoading,s=r.isLive,l=r.isPlayback;return t.state={isPlaying:o,isLoading:i,isLive:s,isPlayback:l},t}return h()(a,[{key:"componentDidMount",value:function(){this.listenAllParentEvents()}},{key:"componentWillUnmount",value:function(){this.removeAllParentEvents()}},{key:"listenAllParentEvents",value:function(){var e=this.props.parent;e.onStateChange("isPlaying",this.onParentIsPlayingStateChange),e.onStateChange("isLoading",this.onParentIsLoadingStateChange),e.onStateChange("isLive",this.onParentIsLiveStateChange),e.onStateChange("isPlayback",this.onParentIsPlaybackStateChange)}},{key:"removeAllParentEvents",value:function(){var e=this.props.parent;e.offStateChange("isPlaying",this.onParentIsPlayingStateChange),e.offStateChange("isLoading",this.onParentIsLoadingStateChange),e.offStateChange("isLive",this.onParentIsLiveStateChange),e.offStateChange("isPlayback",this.onParentIsPlaybackStateChange)}},{key:"clickHandler",value:function(){var e=this.props,t=e.parent,n=e.onClick;t.play(),n&&n()}},{key:"render",value:function(){var e=this.state,t=e.isPlaying,n=e.isLoading,a=e.isLive,r=e.isPlayback;return t||n||!a&&!r?null:L.a.createElement("div",{className:"play-btn",onClick:this.clickHandler.bind(this)},L.a.createElement(F.a,{type:"wap-play-btn"}))}}]),a}(L.a.Component),On=(n("lT0V"),Ln),Tn=n("uM9k"),wn=n("+Hyk");function Rn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var _n=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(Rn()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;return f()(this,a),t=n.call(this,e),S()(m()(t),"onLoadStart",(function(){t.setState({canAutoplay:!0})})),S()(m()(t),"onLoadedData",(function(){var e=t.props,n=e.autoplay,a=e.parent;!0===n&&(t.checkCanAutoplay().then((function(e){t.isUnmounted||(t.reportIfCanAutoplay(e),t.setState({canAutoplay:a.state.isPlaying||e}))})).catch((function(){t.reportIfCanAutoplay(!1)})),t.listenAllParentEvents())})),S()(m()(t),"onParentIsPlayingStateChange",(function(e){e.value&&t.setState({canAutoplay:!0})})),S()(m()(t),"onParentIsLiveStateChange",(function(e){var n=e.value;t.setState({isLive:n})})),S()(m()(t),"onParentIsPlaybackStateChange",(function(e){var n=e.value;t.setState({isPlayback:n})})),S()(m()(t),"play",(function(){var e=t.props.parent;t.setState({canAutoplay:!0}),e.refresh(!0)})),t.state={canAutoplay:!0,isLive:!1,isPlayback:!1},t.hasReported=!1,t}return h()(a,[{key:"componentDidMount",value:function(){var e=this.props.parent;this.setState({isLive:e.state.isLive,isPlayback:e.state.isPlayback}),e.on("loadstart",this.onLoadStart),e.on("loadeddata",this.onLoadedData),e.state.dataLoaded&&this.onLoadedData()}},{key:"componentWillUnmount",value:function(){var e=this.props.parent;e.off("loadstart",this.onLoadStart),e.off("loadeddata",this.onLoadedData),this.removeAllParentEvents(),this.isUnmounted=!0}},{key:"listenAllParentEvents",value:function(){var e=this.props.parent;e.onStateChange("isPlaying",this.onParentIsPlayingStateChange),e.onStateChange("isLive",this.onParentIsLiveStateChange),e.onStateChange("isPlayback",this.onParentIsPlaybackStateChange)}},{key:"removeAllParentEvents",value:function(){var e=this.props.parent;e.offStateChange("isPlaying",this.onParentIsPlayingStateChange),e.offStateChange("isLive",this.onParentIsLiveStateChange),e.offStateChange("isPlayback",this.onParentIsPlaybackStateChange)}},{key:"reportIfCanAutoplay",value:function(e){if(!this.hasReported){var t=this.props.parent.plugins.get("reporter");t&&(t.reportCanAutoplay(e),this.hasReported=!0)}}},{key:"checkCanAutoplay",value:function(){var e=this.props.parent;return new Promise((function(t){wn.a.video({timeout:1e3,muted:e.muted()}).then((function(e){t(e.result)})).catch((function(e){t(!1)}))}))}},{key:"render",value:function(){var e=this.props.playerLangPkg,t=void 0===e?{}:e,n=this.state,a=n.canAutoplay,r=n.isLive,o=n.isPlayback;return a||!r&&!o?null:L.a.createElement("div",{className:"autoplay-alert"},L.a.createElement("div",{className:"wrapper"},L.a.createElement("div",{className:"icon"}),L.a.createElement("p",{className:"text"},t.autoplayNoSupported),L.a.createElement("span",{className:"play",onClick:this.play},t.autoplayPlay)))}}]),a}(L.a.Component);S()(_n,"defaultProps",{autoplay:!0,parent:{}});n("jCcD");var Nn=_n;function Dn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var xn=window.isHomeSPA?wt.a:function(e){return L.a.createElement("a",i()({},e,{href:e.to}))},Mn=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(Dn()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a),t=n.call(this,e),S()(m()(t),"handleBtnClick",(function(){var e,n=t.props,a=n.parent,r=n.info,o=r.anchorId,i=r.roomSort,s=r.bannerPosition,l=n.onEnterRoom;a.plugins.get("reporter").reportEnterRoomBtnClick({anchorId:o,roomSort:i,position:s+1,mode:"player",type:_t.a}),a&&!(null===(e=a.state)||void 0===e?void 0:e.isPlaying)&&B.b.lockPlayer(a.id),l&&l(),window.__clickRoomFrom="home-player-enter-room-hover",window.__clickRoomTs=Object(Tt.g)()})),S()(m()(t),"onParentIsIdleStateChange",(function(e){var n=e.value;t.setState({isIdle:n})})),S()(m()(t),"onParentIsPlayingStateChange",(function(e){var n=e.value;t.setState({isPlaying:n})}));var r=e.parent.state,o=r.isIdle,i=r.isPlaying;return t.state={isIdle:o,isPlaying:i},t}return h()(a,[{key:"componentDidMount",value:function(){this.listenAllParentEvents()}},{key:"componentWillUnmount",value:function(){this.removeAllParentEvents()}},{key:"listenAllParentEvents",value:function(){var e=this.props.parent;e.onStateChange("isIdle",this.onParentIsIdleStateChange),e.onStateChange("isPlaying",this.onParentIsPlayingStateChange)}},{key:"removeAllParentEvents",value:function(){var e=this.props.parent;e.offStateChange("isIdle",this.onParentIsIdleStateChange),e.offStateChange("isPlaying",this.onParentIsPlayingStateChange)}},{key:"render",value:function(){var e=this.props,t=e.info,n=t.roomId,a=t.alise,r=e.playerLangPkg.enterChannel,o=e.parent,i=o.mode,s=o.const.MODE,l=this.state,c=l.isIdle,u=l.isPlaying;return i===s.INDEX&&!c&&u?L.a.createElement(xn,{className:"enter-room-hover",to:Object(Rt.k)({alise:a,roomid:n}),onClick:this.handleBtnClick},r):null}}]),a}(L.a.Component),An=(n("/QuM"),Mn),jn=function(e){var t=e.videoStatus,n=e.parent.const.VIDEO_STATUS,a=e.playerLangPkg,r=(a=void 0===a?{}:a).videoReviewing,o=a.videoReviewDidNotPass,i=a.videoNotPublishYet,s=t!==n.PUBLISHED,l="";switch(t){case n.REVIEWING:l=r;break;case n.REVIEW_FAILED:l=o;break;default:l=i}return s?L.a.createElement("div",{className:"video-disabled-panel"},L.a.createElement("div",{className:"header"},L.a.createElement("i",{className:"i-msg"}),L.a.createElement("p",{className:"text"},l))):null},Bn=(n("PyNy"),jn),Fn=n("fLWs");function Vn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Un=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(Vn()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a),t=n.call(this,e),S()(m()(t),"onParentIsPlaybackStateChange",(function(e){var n=e.value;t.setState({isPlayback:n})}));var r=e.parent.state.isPlayback;return t.state={isPlayback:r},t}return h()(a,[{key:"componentDidMount",value:function(){this.listenAllParentEvents()}},{key:"componentWillUnmount",value:function(){this.removeAllParentEvents()}},{key:"listenAllParentEvents",value:function(){this.props.parent.onStateChange("isPlayback",this.onParentIsPlaybackStateChange)}},{key:"removeAllParentEvents",value:function(){this.props.parent.offStateChange("isPlayback",this.onParentIsPlaybackStateChange)}},{key:"render",value:function(){var e=this.props,t=e.baseLangPkg.replay2,n=void 0===t?"":t,a=e.parent,r=this.state.isPlayback,o=a.const.MODE.CLIP,i=a.mode;return r&&i!==o?L.a.createElement("div",{className:"playback-icon n-as-abs n-fx-cc"},L.a.createElement("span",{className:"icon"}),L.a.createElement("span",{className:"text"},n)):null}}]),a}(L.a.Component),Hn=(n("wSAP"),Un),zn=n("EXoy");function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"CONST",(function(){return A.a}));var Yn=new D.a({prefix:"ReactPlayer"}),Xn=function(e){C()(a,e);var t,n=(t=a,function(){var e,n=P()(t);if(Gn()){var a=P()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return g()(this,e)});function a(e){var t;f()(this,a),t=n.call(this,e),S()(m()(t),"defaultComponents",{TextBulletScreen:!0,GiftBulletScreen:!0,EnterRoomBulletScreen:!0,BSLottery:!0,BulletVote:!0,FollowGuide:!1,HDLimitBox:!1,PlayerRoomMeta:!0,LiveRoomMsgBanner:!0,AnchorFloatControl:!0,offlivePanel:!0,carltonAlert:!0,playBtn:!0,VideoInfo:!0,PickMe:!0}),S()(m()(t),"containerRef",null),S()(m()(t),"saveContainerRef",(function(e){t.containerRef=e})),S()(m()(t),"_findPlayerByIdOrAlias",(function(e){var n=t.state.info,a=n.roomId,r=void 0===a?0:a,o=n.alise,i=void 0===o?"":o,s=n.alias,l=void 0===s?i:s,c=n.resourceId,u=void 0===c?"":c,p=n.isVideo,f=e.config,d=f.roomId,h=void 0===d?0:d,v=f.alias,m=void 0===v?"":v,y=f.vid;return!p&&(r===h&&r||l===m&&l)||p&&u===(void 0===y?"":y)&&u})),S()(m()(t),"updatePlayerAndSocket",(function(){var e=m()(t),n=e.nimoPlayer,a=e.state.info,r=a.roomId,o=a.alise,i=a.anchorId,s=u()(a,["roomId","alise","anchorId"]),l=e.props.mode,c=A.a.MODE,p=c.INDEX,f=c.LIVE;n&&(n.updateConfig({roomId:r,alias:o}),n.getPullInfo(r).then((function(e){var a;if(!t.unmounted){var o=x.a.kMRC_OK,c=x.a.kMRC_PLAYBLACK_FINISHED,u=x.a.kMRC_MASTEROFFLINE,d=e||{},h=d.returnValue,v=(d.playblackvideodata,d.roomLine.lRoomId),m=(a={},S()(a,u,"nolive"),S()(a,o,"live"),S()(a,c,"replay"),a);if(v===r){if(-1===[p,f].indexOf(l))n.plugins.get("reporter").report({eid:"enter_room",eid_desc:"",prop:JSON.stringify({status_:m[h]||"other",roomType_:s.gameId,group_:t.greyGroup?"A":"B"}),ayyuid:i});n.plugins.get("metricReport").onGetPullInfo(m[h])}}})).catch((function(){})))}));var r=e.info,o=e.bannerPosition,i=void 0===o?0:o;return t.state={info:r,bannerPosition:parseInt(i,10)},t.unmounted=!1,t.playEventCounter=0,t.playEnded=!1,t.isNewIndex=!0,t.handleClickPlay=t.handleClickPlay.bind(m()(t)),t.setGreyGroup(),t}return h()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.mode,n=e.onIntersectionChange,a=e.id,r=e.onMount,o=A.a.MODE,i=o.CLIP,s=o.ROOM;r&&r(),this.initPlayer(),[i,s].indexOf(t)>=0&&(this.intersectionObserver=new zn.a({onIntersectionChange:n,id:a}))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.videoPlayerFirstPlay5s),this.removeAllPlayerEvents(),this.nimoPlayer&&(B.b.stashPlayer(this.nimoPlayer.id),this.nimoPlayer=null),this.intersectionObserver&&(this.intersectionObserver.dispose(),this.intersectionObserver=null),this.containerRef=null,this.unmounted=!0;var e=this.props.innerRef;e&&e(null)}},{key:"setGreyGroup",value:function(){var e=N.a.get("udbUserId")||0,t="nimo-player-rm-group_".concat(e),n=parseInt(N.b.get(t),10);isNaN(n)&&(n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.len,r=0,o=0,i=t.reduce((function(e,t){return e+t}),0),s=Math.random()*i,l=t.findIndex((function(e,t){if(o+=e,s>=r&&s<o||t===a-1&&s===o)return!0;r+=e}));return l}(1,1),N.b.set(t,n)),this.greyGroup=n}},{key:"initSocket",value:function(){}},{key:"initPlayer",value:function(){this.initLivePlayer()}},{key:"getPlayer",value:function(){return new Promise((function(e){e({default:Player})}))}},{key:"onPlayerReady",value:function(){var e=this.props,t=e.innerRef,n=e.onReady,a=this.state.info.isVideo,r=void 0!==a&&a;t&&t(this),r||this.updatePlayerAndSocket(),"function"===typeof n&&n(this.nimoPlayer),this.listenAllPlayerEvents()}},{key:"initLivePlayer",value:function(){Yn.log("react player init");var e=this.props,t=e.userInfo,n=void 0===t?{}:t,a=e.mode,r=e.autoplay,o=(e.streamInfo,e.clearStreamInfo,e.corePlayer),i=this.state.info,s=i.anchorId,l=i.roomId,c=void 0===l?0:l,u=i.alise,p=void 0===u?"":u,f=i.alias,d=void 0===f?p:f,h=(i.videoUrl,i.resourceId),v=void 0===h?"":h,m=i.dotType,y=void 0===m?1:m,g=i.businessType,b=void 0===g?1:g,P=i.isVideo,k=void 0!==P&&P,C=(i.videoStreamStatus,i.iResoVideoType,i.playDuration),E=void 0===C?0:C,S=n.udbUserId,I=A.a.TYPE,L=(A.a.VIDEO_STATUS,{containerId:"nimo-player",mode:a,autoplay:r,anchorId:s,udbUserId:S,reduceDelay:2===b,alias:d,roomId:c});k&&(L.vid=v,L.videoType=y,L.videoDuration=E,L.type=I.VIDEO);var O=o||B.b.findPlayer(this._findPlayerByIdOrAlias);if(O){Yn.log("get player:",O.id);var T=document.getElementById(B.b.puppetContainerId);T&&(T.style.display="none"),O.updateConfig(L),O.initVolume(),this.nimoPlayer=O,this.initPlayerCommonPlugins(),this.setState({inited:!0},(function(){B.b.movePlayer(O.id,L.containerId)})),this.onPlayerReady()}}},{key:"initPlayerCommonPlugins",value:function(){var e=this.greyGroup,t=(this.playerGreyGroup,this.props),n=t.userInfo,a=n.country,r=void 0===a?"ID":a,o=n.clang,i=void 0===o?"1000":o,s=(n.udbUserId,t.isLandingPage,t.mode),c=this.state.info,u=c.roomId,p=c.gameId,f=c.anchorId,d=void 0===f?0:f,h=c.businessType,v=this.nimoPlayer,m=v.plugins,y=v.const.MODE;m.add("reporter",(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return l()(Fn.a,n.concat([{anchorId:d,roomId:u||0,gameId:p,greyGroup:e,country:r,clang:i,platform:"web",businessType:h,commonProp:s===y.DASHBOARD?{bizType_:"stream-manager"}:void 0}]))}))}},{key:"switchLiveRoom",value:function(e,t){e.roomId&&this.setState({bannerPosition:parseInt(t,10),info:e},this.updatePlayerAndSocket)}},{key:"handleClickPlay",value:function(){var e=this.props.onClickPlay;"function"===typeof e&&e()}},{key:"fetchVideoInfo",value:function(){var e=this.state.info.resourceId,t=void 0===e?"":e;return M.a.fetchVideoInfoByResourceId(t)}},{key:"listenAllPlayerEvents",value:function(){this.nimoPlayer}},{key:"removeAllPlayerEvents",value:function(){this.nimoPlayer}},{key:"render",value:function(){var e=this.nimoPlayer,t=this.state.inited,n=this.greyGroup,a=this.props,r=a.className,o=a.id,s=a.components,l=void 0===s?{}:s,c=a.children,u=a.baseLangPkg,p=a.playerLangPkg,f=a.onEnterRoom,d=a.mode,h=this.state,v=h.info,m=h.bannerPosition,y=v.isVideo,g=v.videoStreamStatus,b=v.businessType,P=void 0===b?1:b,k=v.avatarUrl,C=v.auId,E=v.anchorId,S=void 0===E?C:E,L=g===A.a.VIDEO_STATUS.PUBLISHED,O=Kn({},this.defaultComponents,{},l),w=O.offlivePanel,R=O.carltonAlert,_=O.playBtn,N=T()(r,"nimo-player","n-as-abs"),D={parent:e,baseLangPkg:u,playerLangPkg:p,containerId:o};return v.anchorId=S,I.createElement("div",{ref:this.saveContainerRef,id:o,className:N,tabIndex:"-1"},t?I.createElement(I.Fragment,null,!y||L?[I.createElement(rn,i()({},D,{info:Kn({},v,{bannerPosition:m}),onEnterRoom:f,key:"0"})),I.createElement(on.a,i()({},D,{key:"1"})),_?I.createElement(On,i()({},D,{onClick:this.handleClickPlay,key:"2"})):null,y?null:[w?I.createElement(bn,i()({},D,{info:v,greyGroup:n,key:"3-0"})):null,R?I.createElement(Sn,i()({},D,{key:"3-1"})):null,I.createElement(Tn.a,i()({},D,{key:"3-2"})),I.createElement(Hn,i()({},D,{key:"3-3"}))],I.createElement(Nn,i()({},D,{key:"4"})),d===A.a.MODE.INDEX?I.createElement(An,i()({},D,{info:Kn({},v,{bannerPosition:m}),onEnterRoom:f,key:"5"})):null]:null,y&&!L?I.createElement(Bn,i()({},D,{videoStatus:g})):null,c?c({enableList:O,container:this.containerRef,player:e}):null,2===P?I.createElement(j.a,{img:k,player:e}):null):null)}}]),a}(I.Component);S()(Xn,"defaultProps",{prefixCls:"",className:"",id:"nimo-player",mode:A.a.MODE.INDEX,info:{},bannerPosition:0,components:{},autoplay:!0,isLandingPage:!1,streamInfo:{}});var Jn;t.default=(Jn=Xn,I.forwardRef((function(e,t){return I.createElement(_.a,{module:"player, base"},(function(n){var a=r()(n,2),o=a[0],s=void 0===o?{}:o,l=a[1],c=void 0===l?{}:l;return(I.createElement(Jn,i()({},e,{playerLangPkg:s,baseLangPkg:c,ref:t})))}))})))},"6qIW":function(e,t,n){"use strict";n("I5cv");var a=n("pVnL"),r=n.n(a),o=n("QILm"),i=n.n(o),s=n("lwsE"),l=n.n(s),c=n("W8MJ"),u=n.n(c),p=n("PJYZ"),f=n.n(p),d=n("a1gu"),h=n.n(d),v=n("Nsbk"),m=n.n(v),y=n("7W2i"),g=n.n(y),b=n("lSNA"),P=n.n(b),k=n("q1tI"),C=n.n(k),E=n("TSYQ"),S=n.n(E),I=n("17x9"),L=n.n(I),O=n("FnEH"),T=n("vARU"),w=n("L/jV"),R=n("HF+M"),_=n("KFtC"),N=n("SgXV"),D=n.n(N),x=n("JrcP"),M=n.n(x),A=n("K0CG"),j=n("xKuZ"),B=n("njtY");function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var V=function(e){g()(a,e);var t,n=(t=a,function(){var e,n=m()(t);if(F()){var a=m()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return h()(this,e)});function a(e){var t;return l()(this,a),(t=n.call(this,e)).state={},t}return u()(a,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,a=e.roomInfo,o=e.onAvatarClick,s=(e.style,e.anchorLabelsComp),l=e.onClick,c=e.roomHref,u=i()(e,["prefixCls","className","roomInfo","onAvatarClick","style","anchorLabelsComp","onClick","roomHref"]),p=a.title,f=a.nickname,d=a.attendee,h=a.avatarUrl,v=a.viewerNum,m=S()(t,n);return k.createElement("div",r()({},u,{className:"".concat(m," bc1")}),k.createElement("div",{className:"n-fx-sc n-as-w100"},k.createElement(j.a,{size:"large",src:h,isLazyload:!0,width:60,onClick:o,alt:f}),k.createElement("div",{className:"".concat(t,"__info n-fx-col n-as-padh c2 n-as-text-over")},k.createElement("a",{className:"controlZindex",onClick:l,href:c},k.createElement("h3",{className:"".concat(t,"__title c1 c-hover4")},p)),k.createElement("a",{className:"controlZindexMargin",onClick:l,href:c},k.createElement("span",{className:"text c2 c-hover4",title:f},k.createElement("strong",null,f))),k.createElement("div",{className:"n-fx-bc n-as-w100 n-as-fs12"},s,k.createElement("div",{className:"".concat(t,"__audience")},k.createElement(B.a,{type:"audience"}),k.createElement("span",{className:"text"},Object(A.d)(d||v)))))))}}],[{key:"propTypes",get:function(){return{prefixCls:L.a.string,className:L.a.string,roomInfo:L.a.object.isRequired,onAvatarClick:L.a.func,anchorLabelsComp:L.a.element}}},{key:"defaultProps",get:function(){return{prefixCls:"nimo-rc_meta",className:"",onAvatarClick:null,anchorLabelsComp:null}}}]),a}(k.Component),U=function(e){var t=e.prefixCls,n=void 0===t?"nimo-rc_tag":t,a=e.className,o=e.text,s=i()(e,["prefixCls","className","text"]),l=S()(n,a);return k.createElement("span",r()({},s,{className:"".concat(l," bc8 c1")}),k.createElement("strong",null,o))},H=function(e){var t=e.list;return(C.a.createElement("ul",{className:"".concat("nimo-card-cover-labels"," n-as-abs c9 n-fx-ss n-fx-col")},t.map((function(e){return C.a.createElement("li",{className:"".concat("nimo-card-cover-labels","-item n-as-rel style-").concat(null===e||void 0===e?void 0:e.colorType," n-as-fs12 n-as-fw")},C.a.createElement("span",{className:"numbg n-as-abs"},null===e||void 0===e?void 0:e.number),C.a.createElement("span",{className:"title n-as-inline-block"},null===e||void 0===e?void 0:e.title))}))))},z=n("2TUn"),W=n("hLaI"),K=n("66+j"),G=n("lpJ4"),Y=function(e,t,n,a,r){null===e||void 0===e||e.report({eid:"usr/click/liveroom/all",eid_desc:"///",prop:JSON.stringify({status_:t,tag_type_:null===n||void 0===n?void 0:n.join(","),game_id_:a,from_:{home:0,game:1,search:3,all:4,"clan-page":5}[r]})})},X=n("aeI2"),J=function(e){var t=e.roomType,n=e.anchorLabels,a=e.labelClickHandler,r=(e.location,e.reportObj),o=e.roomInfo;if((null===n||void 0===n?void 0:n.length)<=0)return null;var i=r.nimoReport,s=r.reportPos,l=function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.dataset,n=(t.gameId,t.labelId),r=t.labelPos;!function(e,t,n){null===e||void 0===e||e.report({eid:"usr/click/tag/null",eid_desc:"///",prop:JSON.stringify({page_:t,tag_id_:n})})}(i,s,n),function(e,t,n){null===e||void 0===e||e.report({eid:"usr/click/tag/channel_bottom",eid_desc:"///",prop:JSON.stringify({position_:t,tag_id_:n})})}(i,r,n),"[object Function]"!==Object.prototype.toString.call(a)?window.isHomeSPA?G.a.push({pathname:Object(z.a)(W.c.game.index,{id:Object(X.c)(o,"roomType")}),search:Object(K.a)(window.location.search,{label:+n})}):setTimeout((function(){window.location.href="//".concat("www.nimo.tv","/game/").concat(Object(X.c)(o,"roomType"),"?label=").concat(+n)}),200):a(e)};return C.a.createElement("ul",{className:"".concat("nimo-rc_meta","__labels c2")},(null===n||void 0===n?void 0:n.length)>0?n.map((function(e,n){return C.a.createElement("a",{key:null===e||void 0===e?void 0:e.labelId,className:"".concat("nimo-rc_meta","__labels-item bdc1 n-as-inline-block n-as-fs12 bc10 c2"),"data-label-id":null===e||void 0===e?void 0:e.labelId,"data-label-pos":+n+1,"data-game-id":t,onClick:l,href:"//".concat("www.nimo.tv","/game/").concat(Object(X.c)(o,"roomType"),"?label=").concat(+(null===e||void 0===e?void 0:e.labelId))},C.a.createElement("span",{className:"label n-as-inline-block"},null===e||void 0===e?void 0:e.labelName))})):null)},Z=n("vHYV");function q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Q=function(e){g()(a,e);var t,n=(t=a,function(){var e,n=m()(t);if(q()){var a=m()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return h()(this,e)});function a(){var e;l()(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),P()(f()(e),"saveLivePreviewRef",(function(t){e.livePreviewRef=t})),P()(f()(e),"handleImgError",(function(e){e.target.src=M.a})),P()(f()(e),"handleRoomCardReport",(function(t){var n=e.props.reportObj,a=n.nimoReport,r=n.reportPos;if(!(Object.keys(n).length<=0)){var o=t.roomType,i=t.anchorLabels,s=(null===i||void 0===i?void 0:i.length)>0?1:0,l=null===i||void 0===i?void 0:i.map((function(e){return null===e||void 0===e?void 0:e.anchorLabelType}));Y(a,s,l,o,r)}})),P()(f()(e),"handleClickOver",(function(){var t=e.props,n=t.dataSource,a=t.onClickCover;e.livePreviewRef&&e.livePreviewRef.stashPlayer(),"function"===typeof a&&a(n)})),e}return u()(a,[{key:"componentWillUnmount",value:function(){this.livePreviewRef=null}},{key:"getRoomScreenShot",value:function(){var e=(this.props.dataSource||{}).roomScreenshots,t=void 0===e?[]:e,n={};return t instanceof Array&&(n=t.find((function(e){return 2===e.key}))),n&&n.url||M.a}},{key:"renderCLangTag",value:function(e){var t=this.props.prefixCls;return(C.a.createElement("div",{className:"".concat(t,"_clang-tag")},C.a.createElement("div",{className:"".concat(t,"_clang-tag-bc")}),C.a.createElement("div",{className:"".concat(t,"_clang-tag-text")},e)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.className,o=(t.children,t.dataSource),s=t.type,l=t.tagged,c=(t.onClickCover,t.labelClickHandler),u=t.showLabels,p=t.from,f=t.reportObj,d=void 0===f?{}:f,h=t.replayText,v=t.livePreview,m=t.id,y=t.position,g=t.item,b=t.index,k=(t.positionId,t.jumpURL),E=t.roomHref,I=i()(t,["prefixCls","className","children","dataSource","type","tagged","onClickCover","labelClickHandler","showLabels","from","reportObj","replayText","livePreview","id","position","item","index","positionId","jumpURL","roomHref"]),L=Object(_.E)(o),N=(o.roomScreenshots,o.roomTypeName),x=o.clangText,A=o.anchorLabels,j=void 0===A?[]:A,B=o.coverLabels,F=void 0===B?[]:B,z=o.isPlayback,W=i()(o,["roomScreenshots","roomTypeName","clangText","anchorLabels","coverLabels","isPlayback"]),K={showTitle:null===W||void 0===W?void 0:W.showTitle,title:null===W||void 0===W?void 0:W.roomTheme,nickname:null===W||void 0===W?void 0:W.anchorName,attendee:null===W||void 0===W?void 0:W.viewerNum,avatarUrl:(null===W||void 0===W?void 0:W.anchorAvatarUrl)||D.a,viewerNum:null===W||void 0===W?void 0:W.viewerNum,microPKStatus:null===W||void 0===W?void 0:W.microPKStatus,isLottery:null===W||void 0===W?void 0:W.isLottery,isGuessing:null===W||void 0===W?void 0:W.isGuessing,roomType:null===W||void 0===W?void 0:W.roomType,gameAbbrList:null===W||void 0===W?void 0:W.gameAbbrList,superscriptType:null===W||void 0===W?void 0:W.superscriptType,superscriptText:null===W||void 0===W?void 0:W.superscriptText},G=2===o.businessType,Y=this.getRoomScreenShot(),X=Object(w.b)(K),q=W||{},Q=q.superscriptType,$=q.superscriptText,ee=C.a.createElement("div",null,x?this.renderCLangTag(x,K.showTitle||K.title):null,C.a.createElement(w.a,{superscriptType:Q,superscriptText:$}),C.a.createElement("div",{className:"".concat(n,"_cover-wrap")},C.a.createElement(T.a,{isLazyload:!0,className:"".concat(n,"_cover lazyload"),src:Y,cover:M.a,alt:N,width:400,height:G?226:0,AI:G}),C.a.createElement(U,{text:N,style:l?{display:"block"}:null}),h&&z?C.a.createElement("div",{className:"".concat(n,"_replay-tag")},h):null,!l&&(null===F||void 0===F?void 0:F.length)>0?C.a.createElement(H,{list:F}):null,C.a.createElement("div",{className:"".concat(n,"_mask"),onClick:this.handleClickOver}),C.a.createElement("div",{className:"nimo-icon-circle",onClick:this.handleClickOver},C.a.createElement("i",{className:"nimo-icon nimo-icon-play-btn"})))),te=S()(n,a,P()({},"".concat(n,"-").concat(s),!0));return C.a.createElement("span",r()({target:"_self",onClick:function(t){t.preventDefault(),e.handleRoomCardReport(o),Object(Z.a)(X,o,"function"===typeof p?p():p)},_stop_event:"1",className:te},I),C.a.createElement(O.a,{cover:ee,coverClassName:"n-as-16x9",bordered:!1,hoverable:!0},v?C.a.createElement(R.a,{ref:this.saveLivePreviewRef,id:m,position:y,index:b,item:g,jumpURL:k,roomHref:E||L,reporter:null===d||void 0===d?void 0:d.nimoReport},C.a.createElement(V,{onClick:this.handleClickOver,roomHref:E||L,anchorLabelsComp:u?C.a.createElement(J,{reportObj:d,location:null===I||void 0===I?void 0:I.location,roomType:null===K||void 0===K?void 0:K.roomType,labelClickHandler:c,anchorLabels:j,roomInfo:K}):null,roomInfo:K})):"undefined"!==typeof v&&v?null:C.a.createElement(V,{onClick:this.handleClickOver,roomHref:E||L,anchorLabelsComp:u?C.a.createElement(J,{reportObj:d,location:null===I||void 0===I?void 0:I.location,roomType:null===K||void 0===K?void 0:K.roomType,labelClickHandler:c,anchorLabels:j,roomInfo:K}):null,roomInfo:K})))}}]),a}(C.a.PureComponent);P()(Q,"defaultProps",{prefixCls:"nimo-rc",className:"",type:"full",children:null,dataSource:{anchorAvatarUrl:D.a,anchorId:"",anchorName:"",onlineStatus:0,roomScreenshots:M.a,roomTheme:"",roomType:"",roomTypeName:"",viewerNum:0,clangText:""},showLabels:!1,reportObj:{},onClickCover:function(){},tagged:!0});var $=Q;n("Ulp7");$.RoomCardMeta=V,$.RoomCardTag=U;t.a=$},"8XtN":function(e,t,n){},AIqn:function(e,t,n){},AwrO:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var a="lottery",r="pk",o="guessing"},Cifo:function(e,t,n){},EXoy:function(e,t,n){"use strict";var a=n("J4zp"),r=n.n(a),o=n("lwsE"),i=n.n(o),s=n("W8MJ"),l=n.n(s),c=n("lSNA"),u=n.n(c),p=(n("Wr5T"),function(){function e(t){var n=this,a=t.id,o=t.onIntersectionChange;i()(this,e),u()(this,"_handleIntersectionChange",(function(e){var t=r()(e,1)[0]||{},a=t.intersectionRatio,o=void 0===a?0:a,i=t.isIntersecting,s=void 0===i?0!==o:i,l=n.onIntersectionChange;l&&l({result:s,id:n.baseContainerId})})),u()(this,"onEnterPlayerPage",(function(){n.togglePlayerObservation(!0)})),u()(this,"onLeavePlayerPage",(function(){n.onIntersectionChange&&n.onIntersectionChange({result:!0,id:n.baseContainerId}),n.togglePlayerObservation(!1)})),this.baseContainerId=a,this.onIntersectionChange=o,this.initIntersectionObserver(),this.onEnterPlayerPage()}return l()(e,[{key:"dispose",value:function(){this.disposed=!0,this.onLeavePlayerPage(),this.observer.disconnect(),this.observer=null}},{key:"initIntersectionObserver",value:function(){this.observer=new IntersectionObserver(this._handleIntersectionChange)}},{key:"togglePlayerObservation",value:function(e){var t=document.getElementById(this.baseContainerId);if(t){var n=e?"observe":"unobserve";this.observer[n](t)}else console.log("nimo player: intersection container is not existed")}}]),e}());t.a=p},F3EO:function(e,t,n){"use strict";n("I5cv");var a=n("pVnL"),r=n.n(a),o=n("QILm"),i=n.n(o),s=n("lwsE"),l=n.n(s),c=n("W8MJ"),u=n.n(c),p=n("PJYZ"),f=n.n(p),d=n("a1gu"),h=n.n(d),v=n("Nsbk"),m=n.n(v),y=n("7W2i"),g=n.n(y),b=n("lSNA"),P=n.n(b),k=n("q1tI"),C=n.n(k);n("17x9"),n("JLqx");function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var S=function(e){g()(a,e);var t,n=(t=a,function(){var e,n=m()(t);if(E()){var a=m()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return h()(this,e)});function a(e){var t;return l()(this,a),t=n.call(this,e),P()(f()(t),"handleClick",(function(e){var n=t.props,a=n.onChange,r=n.onClick;if(t._underControl){a(!t.props.value)}else{var o=t.state.status;t.setState({status:!o}),a(!o)}"function"===typeof r&&r(e)})),t._underControl=void 0!==e.value,t.state={status:e.defaultValue},t}return u()(a,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.prefixCls,a=e.value,o=(e.onChange,e.onClick,e.defaultValue,i()(e,["className","prefixCls","value","onChange","onClick","defaultValue"])),s=this.state.status,l=this._underControl?a:s;return C.a.createElement("div",r()({},o,{className:"".concat(n,"-inputSwitch bc6 n-as-rel ").concat(t," ").concat(l&&"open"),onClick:this.handleClick}),C.a.createElement("div",{className:"".concat(n,"-inputSwitch-point bsc4 bc11 n-as-abs")}))}}]),a}(C.a.Component);P()(S,"defaultProps",{className:"",defaultValue:!1,value:void 0,prefixCls:"nimo",onChange:function(){}}),t.a=S},FlQf:function(e,t,n){e.exports=n("4KFe")(193)},"HF+M":function(e,t,n){"use strict";n("I5cv");var a=n("lwsE"),r=n.n(a),o=n("W8MJ"),i=n.n(o),s=n("PJYZ"),l=n.n(s),c=n("a1gu"),u=n.n(c),p=n("Nsbk"),f=n.n(p),d=n("7W2i"),h=n.n(d),v=n("lSNA"),m=n.n(v),y=n("q1tI"),g=n.n(y),b=n("H4nB"),P=n("zv/K"),k=n("Nt51"),C=n("N36A"),E=n("EXoy"),S={cache:{},get:function(e){return this.cache[e]},set:function(e,t){this.cache[e]=t}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var T=function(e){h()(a,e);var t,n=(t=a,function(){var e,n=f()(t);if(O()){var a=f()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return u()(this,e)});function a(e){var t;return r()(this,a),t=n.call(this,e),m()(l()(t),"handleMouseEnter",(function(){clearTimeout(t.hoverTimeout),t.hoverTimeout=setTimeout((function(){t.start()}),500)})),m()(l()(t),"handleMouseLeave",(function(){clearTimeout(t.hoverTimeout),t.hoverTimeout=0,t.end()})),m()(l()(t),"handleClick",(function(){var e=t.props.jumpURL;t.dispose(),"function"===typeof e&&e()})),m()(l()(t),"handleIntersectionChanged",(function(e){var n=e.result;e.id!==t.props.id||n||t.handleMouseLeave()})),m()(l()(t),"onPlayerPlay",(function(){})),m()(l()(t),"onGlobalPlayerPlay",(function(e){var n=l()(t).player;e!==l()(t)&&n&&n.pause()})),t.state={show:!1},t.isPending=!1,t.currentRoomId=0,t.isPlaying=!1,t._boundHandlePlayerLoadedData=t.handlePlayerLoadedData.bind(l()(t)),t.clicked=!1,t}return i()(a,[{key:"componentDidMount",value:function(){var e=this.props.id;this.intersectionObserver=new E.a({onIntersectionChange:this.handleIntersectionChanged,id:e})}},{key:"componentWillUnmount",value:function(){this.unmounted=!0,clearTimeout(this.hoverTimeout),this.hoverTimeout=0,this.intersectionObserver&&(this.intersectionObserver.dispose(),this.intersectionObserver=null),this.dispose()}},{key:"start",value:function(){var e;if(!0!==this.isPending){var t=this.props.item,n=(t=void 0===t?{}:t).id,a=t.roomLineInfo,r=t.mStreamPkg,o=b.a.kMRC_OK,i=S.get(n);this.currentRoomId=n,this.initPlayer(),(null===a||void 0===a||null===(e=a.vCodeLines2)||void 0===e?void 0:e.length)?this.handleGetPullInfo({roomLine:L({},a,{},{mStreamPkg:r}),returnValue:o}):i?this.handleGetPullInfo(i):(this.isPending=!0,b.b.getPullInfo(n).then(this.handleGetPullInfo.bind(this)))}}},{key:"dispose",value:function(){var e=this.player;this.isPending=!1,this.currentRoomId=0,this.isPlaying=!1,e&&(this.player.off("loadeddata",this._boundHandlePlayerLoadedData),this.player.off("play",this.onPlayerPlay),this.clicked||P.b.disposePlayer(e.id),P.b.unlockPlayer(this.player.id),this.player=null)}},{key:"end",value:function(){this.setState({show:!1}),this.dispose()}},{key:"initPlayer",value:function(){var e=this.props,t=e.id,n=e.item||{},a=n.id,r=n.anchorId,o=n.alise,i=n.businessType,s=k.a.MODE,l=k.a.TYPE;this.player=P.b.createPlayer({containerId:"".concat(t),mode:s.LIST,type:l.LIVE,muted:!0,roomId:a,alias:o,anchorId:r,businessType:i}),this.player.once("loadeddata",this._boundHandlePlayerLoadedData),this.player.on("play",this.onPlayerPlay)}},{key:"handlePlayerLoadedData",value:function(){var e=this.props,t=e.item.id,n=e.position,a=e.index;this.player&&t===this.currentRoomId&&(this.reportPlay(n,a),this.isPlaying=!0,this.setState({show:!0}))}},{key:"handleGetPullInfo",value:function(e){if(!this.unmounted){var t=e.returnValue,n=e.roomLine,a=this.currentRoomId,r=this.player,o=b.a.kMRC_OK,i=n.lRoomId;i===a&&(this.isPending=!1,t===o&&(S.set(i,e),r.playStream(n,5)))}}},{key:"stashPlayer",value:function(){this.player&&this.player.state.isPlaying&&(this.clicked=!0,this.player.initVolume(),P.b.stashPlayer(this.player.id))}},{key:"reportPlay",value:function(){var e=this.props,t=e.index,n=e.position,a=e.reporter;a&&a.report({eid:"liveroom_card_play",eid_desc:"_",prop:JSON.stringify({page_:"".concat(location.protocol,"//").concat(location.hostname).concat(location.pathname),position_:"".concat(n,".").concat(t+1)})})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.item,a=e.roomHref,r=e.children,o=this.state.show,i=n.businessType,s=n.anchorAvatarUrl;return g.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},g.a.createElement("div",{className:"nimo-live-preview n-as-abs n-as-full n-as-rnd n-as-of-hidden"},g.a.createElement("div",{className:"n-as-16x9"},g.a.createElement("a",{onClick:this.handleClick,href:a},g.a.createElement(w,{id:t},o&&2===i?g.a.createElement(C.a,{img:s}):null)))),r)}}]),a}(g.a.Component);m()(T,"defaultProps",{id:"0",position:0,index:0});var w=function(e){var t=e.id,n=e.children;return(g.a.createElement("div",{id:t,className:"nimo-player n-as-full"},n))},R=function(e,t,n){e&&e.report({eid:"liveroom_card_play_click",eid_desc:"__",prop:JSON.stringify({page_:"".concat(location.protocol,"//").concat(location.hostname).concat(location.pathname),position_:"".concat(t,".").concat(n+1)})})},_=T;n("8XtN");n.d(t,"b",(function(){return R}));t.a=_},HIZl:function(e,t,n){"use strict";n("I5cv");var a=n("pVnL"),r=n.n(a),o=n("QILm"),i=n.n(o),s=n("lwsE"),l=n.n(s),c=n("W8MJ"),u=n.n(c),p=n("a1gu"),f=n.n(p),d=n("Nsbk"),h=n.n(d),v=n("7W2i"),m=n.n(v),y=n("q1tI"),g=n("TSYQ"),b=n.n(g),P=n("17x9"),k=n.n(P),C=n("xKuZ"),E=n("njtY"),S=n("QTzQ");function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var L=function(e){m()(a,e);var t,n=(t=a,function(){var e,n=h()(t);if(I()){var a=h()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return f()(this,e)});function a(e){var t;return l()(this,a),(t=n.call(this,e)).state={},t}return u()(a,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,a=e.roomInfo,o=e.onAvatarClick,s=(e.style,i()(e,["prefixCls","className","roomInfo","onAvatarClick","style"])),l=a.title,c=a.nickname,u=a.avatarUrl,p=a.updatedTime,f=new Date(p),d=Object(S.a)(f).format("dS"),h=b()(t,n);return y.createElement("div",r()({},s,{className:"".concat(h," bc1")}),y.createElement("h3",{className:"".concat(t,"__title c1")},l),y.createElement("div",{className:"".concat(t,"__sub-title c2")},y.createElement("div",{className:"".concat(t,"__info")},y.createElement(C.a,{size:"small",src:u,isLazyload:!0,width:30,onClick:o,alt:c}),y.createElement("span",{className:"text",title:c},y.createElement("h3",{className:"c2"},c))),p?y.createElement("div",{className:"".concat(t,"__audience")},y.createElement(E.a,{type:"im-time"}),y.createElement("span",{className:"text"},d)):null))}}],[{key:"propTypes",get:function(){return{prefixCls:k.a.string,className:k.a.string,roomInfo:k.a.object.isRequired,onAvatarClick:k.a.func}}},{key:"defaultProps",get:function(){return{prefixCls:"nimo-rc-video_meta",className:"",onAvatarClick:null}}}]),a}(y.Component);t.a=L},HToz:function(e,t,n){var a,r;function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(o,s){"object"===i(t)&&"undefined"!=typeof e?e.exports=s():void 0===(r="function"===typeof(a=s)?a.call(t,n,t,e):a)||(e.exports=r)}(0,(function(){"use strict";var e="undefined"!=typeof window,t=e&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),n=e&&"IntersectionObserver"in window,a=e&&"classList"in document.createElement("p"),r={elements_selector:"img",container:t||e?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},i=function(e,t){var n,a=new e(t);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:a}})}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:a})}window.dispatchEvent(n)},s=function(e,t){return e.getAttribute("data-"+t)},l=function(e,t,n){var a="data-"+t;null!==n?e.setAttribute(a,n):e.removeAttribute(a)},c=function(e){return"true"===s(e,"was-processed")},u=function(e,t){return l(e,"ll-timeout",t)},p=function(e){return s(e,"ll-timeout")},f=function(e,t){e&&e(t)},d=function(e,t){e._loadingCount+=t,0===e._elements.length&&0===e._loadingCount&&f(e._settings.callback_finish)},h=function(e){for(var t,n=[],a=0;t=e.children[a];a+=1)"SOURCE"===t.tagName&&n.push(t);return n},v=function(e,t,n){n&&e.setAttribute(t,n)},m=function(e,t){v(e,"sizes",s(e,t.data_sizes)),v(e,"srcset",s(e,t.data_srcset)),v(e,"src",s(e,t.data_src))},y={IMG:function(e,t){var n=e.parentNode;n&&"PICTURE"===n.tagName&&h(n).forEach((function(e){m(e,t)})),m(e,t)},IFRAME:function(e,t){v(e,"src",s(e,t.data_src))},VIDEO:function(e,t){h(e).forEach((function(e){v(e,"src",s(e,t.data_src))})),v(e,"src",s(e,t.data_src)),e.load()}},g=function(e,t){a?e.classList.add(t):e.className+=(e.className?" ":"")+t},b=function(e,t,n){e.addEventListener(t,n)},P=function(e,t,n){e.removeEventListener(t,n)},k=function(e,t,n){P(e,"load",t),P(e,"loadeddata",t),P(e,"error",n)},C=function(e,t,n){var r=n._settings,o=t?r.class_loaded:r.class_error,i=t?r.callback_loaded:r.callback_error,s=e.target;!function(e,t){a?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(s,r.class_loading),g(s,o),f(i,s),d(n,-1)},E=["IMG","IFRAME","VIDEO"],S=function(e,t){var n=t._observer;L(e,t),n&&t._settings.auto_unobserve&&n.unobserve(e)},I=function(e){var t=p(e);t&&(clearTimeout(t),u(e,null))},L=function(e,t,n){var a=t._settings;!n&&c(e)||(E.indexOf(e.tagName)>-1&&(function(e,t){var n=function n(r){C(r,!0,t),k(e,n,a)},a=function a(r){C(r,!1,t),k(e,n,a)};!function(e,t,n){b(e,"load",t),b(e,"loadeddata",t),b(e,"error",n)}(e,n,a)}(e,t),g(e,a.class_loading)),function(e,t){var n,a,r=t._settings,o=e.tagName,i=y[o];if(i)return i(e,r),d(t,1),void(t._elements=(n=t._elements,a=e,n.filter((function(e){return e!==a}))));!function(e,t){var n=s(e,t.data_src),a=s(e,t.data_bg);n&&(e.style.backgroundImage='url("'.concat(n,'")')),a&&(e.style.backgroundImage=a)}(e,r)}(e,t),function(e){l(e,"was-processed","true")}(e),f(a.callback_reveal,e),f(a.callback_set,e))},O=function(e){return!!n&&(e._observer=new IntersectionObserver((function(t){t.forEach((function(t){return function(e){return e.isIntersecting||e.intersectionRatio>0}(t)?function(e,t){var n=t._settings;f(n.callback_enter,e),n.load_delay?function(e,t){var n=t._settings.load_delay,a=p(e);a||(a=setTimeout((function(){S(e,t),I(e)}),n),u(e,a))}(e,t):S(e,t)}(t.target,e):function(e,t){var n=t._settings;f(n.callback_exit,e),n.load_delay&&I(e)}(t.target,e)}))}),{root:(t=e._settings).container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}),!0);var t},T=["IMG","IFRAME"],w=function(e,t){return function(e){return e.filter((function(e){return!c(e)}))}((n=e||function(e){return e.container.querySelectorAll(e.elements_selector)}(t),Array.prototype.slice.call(n)));var n},R=function(e,t){this._settings=function(e){return o({},r,e)}(e),this._loadingCount=0,O(this),this.update(t)};return R.prototype={update:function(e){var n,a=this,r=this._settings;this._elements=w(e,r),!t&&this._observer?(function(e){return e.use_native&&"loading"in HTMLImageElement.prototype}(r)&&((n=this)._elements.forEach((function(e){-1!==T.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),L(e,n))})),this._elements=w(e,r)),this._elements.forEach((function(e){a._observer.observe(e)}))):this.loadAll()},destroy:function(){var e=this;this._observer&&(this._elements.forEach((function(t){e._observer.unobserve(t)})),this._observer=null),this._elements=null,this._settings=null},load:function(e,t){L(e,this,t)},loadAll:function(){var e=this;this._elements.forEach((function(t){S(t,e)}))}},e&&function(e,t){if(t)if(t.length)for(var n,a=0;n=t[a];a+=1)i(e,n);else i(e,t)}(R,window.lazyLoadOptions),R}))},IP1Z:function(e,t,n){"use strict";var a=n("2faE"),r=n("rr1i");e.exports=function(e,t,n){t in e?a.f(e,t,r(0,n)):e[t]=n}},JB68:function(e,t,n){e.exports=n("4KFe")(46)},JLqx:function(e,t,n){},JO7F:function(e,t,n){e.exports={default:n("/eQG"),__esModule:!0}},JrcP:function(e,t,n){e.exports=n.p+"images/screen-285x160.0b1ba38197bcde68c8361783b402b0b3.jpg"},"L/jV":function(e,t,n){"use strict";var a=n("q1tI"),r=(n("jH9W"),function(e){var t=e.prefixCls,n=void 0===t?"nimo-act-badge":t,r=e.superscriptType,o=void 0===r?0:r,i=e.superscriptText,s=void 0===i?"":i;return o?a.createElement("div",{className:"".concat(n," c9 n-as-rnd n-as-fs12 n-as-fw")},s):null}),o=n("AwrO"),i=n("lSNA"),s=n.n(i);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=[{type:o.c,prop:"microPKStatus"},{type:o.b,prop:"isLottery"},{type:o.a,prop:"isGuessing"}];function p(e){var t=e||{},n=u.find((function(e){return t[e.prop]&&1===Number(t[e.prop])}));return n?[c({},n,{condition:!0})]:void 0}n.d(t,"b",(function(){return p}));t.a=r},NwJ3:function(e,t,n){var a=n("SBuE"),r=n("UWiX")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[r]===e)}},OuPn:function(e,t,n){"use strict";n("I5cv");var a=n("pVnL"),r=n.n(a),o=n("lwsE"),i=n.n(o),s=n("PJYZ"),l=n.n(s),c=n("W8MJ"),u=n.n(c),p=n("a1gu"),f=n.n(p),d=n("Nsbk"),h=n.n(d),v=n("7W2i"),m=n.n(v),y=n("lSNA"),g=n.n(y),b=n("q1tI"),P=n("17x9"),k=n.n(P),C=n("Puqe"),E=n.n(C),S=n("7W03");n.d(t,"b",(function(){return S.b}));n("R/7o");function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var L=function(e){m()(a,e);var t,n=(t=a,function(){var e,n=h()(t);if(I()){var a=h()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return f()(this,e)});function a(e){var t;return i()(this,a),t=n.call(this,e),g()(l()(t),"tooltip",null),g()(l()(t),"saveTooltip",(function(e){t.tooltip=e})),t.state={},t}return u()(a,null,[{key:"propTypes",get:function(){return{prefixCls:k.a.string,placement:k.a.string,transitionName:k.a.string,trigger:k.a.string,mouseEnterDelay:k.a.number,mouseLeaveDelay:k.a.number,overlayStyle:k.a.object,title:k.a.oneOfType([k.a.string,k.a.node]),titleClass:k.a.string,content:k.a.oneOfType([k.a.string,k.a.node])}}},{key:"defaultProps",get:function(){return{prefixCls:"nimo-popover",placement:"top",transitionName:"zoom-big",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{},titleClass:""}}}]),u()(a,[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"getOverlay",value:function(){var e=this.props,t=e.title,n=e.prefixCls,a=e.content,r=e.titleClass,o=e.className;return(b.createElement("div",{className:o},t&&b.createElement("div",{className:"".concat(n,"-title c1 ").concat(r)},t),b.createElement("div",{className:"".concat(n,"-inner-content c2")},a)))}},{key:"render",value:function(){var e=E()(this.props,["title"]);return(b.createElement(S.a,r()({},e,{ref:this.saveTooltip,overlay:this.getOverlay()})))}}]),a}(b.Component);t.a=L},PyNy:function(e,t,n){},QMMT:function(e,t,n){var a=n("a0xu"),r=n("UWiX")("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),r))?n:o?a(t):"Object"==(i=a(t))&&"function"==typeof t.callee?"Arguments":i}},"R/7o":function(e,t,n){"use strict";n("zZhX")},RyMh:function(e,t,n){"use strict";function a(e){var t=Math.floor(e),n=["minute","second"],a={};return[60,1].forEach((function(e,r){var o=Math.floor(t/e);a[n[r]]=function(e){if(Number.isNaN(e))return"00";return e<10?"0".concat(e):"".concat(e)}(o),t-=o*e})),a}n.d(t,"a",(function(){return a}))},SBuE:function(e,t,n){e.exports=n("4KFe")(79)},SgXV:function(e,t,n){e.exports=n.p+"images/avatar-60x60.9018ca23f0595b0af38f39d6e048fea6.jpg"},TuGD:function(e,t,n){var a=n("UWiX")("iterator"),r=!1;try{var o=[7][a]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(i){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],s=o[a]();s.next=function(){return{done:n=!0}},o[a]=function(){return s},e(o)}catch(i){}return n}},UWiX:function(e,t,n){e.exports=n("4KFe")(27)},Ulp7:function(e,t,n){},VJsP:function(e,t,n){"use strict";var a=n("2GTP"),r=n("Y7ZC"),o=n("JB68"),i=n("sNwI"),s=n("NwJ3"),l=n("tEej"),c=n("IP1Z"),u=n("fNZA");r(r.S+r.F*!n("TuGD")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,r,p,f=o(e),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,y=0,g=u(f);if(m&&(v=a(v,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&s(g))for(n=new d(t=l(f.length));t>y;y++)c(n,y,m?v(f[y],y):f[y]);else for(p=g.call(f),n=new d;!(r=p.next()).done;y++)c(n,y,m?i(p,v,[r.value,y],!0):r.value);return n.length=y,n}})},VsDA:function(e,t,n){},WEpk:function(e,t,n){e.exports=n("4KFe")(5)},WZ5D:function(e,t,n){},XMoT:function(e,t,n){"use strict";var a,r=n("lSNA"),o=n.n(r),i=n("QILm"),s=n.n(i),l=n("HToz"),c=n.n(l);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.threshold,n=void 0===t?600:t,r=s()(e,["threshold"]);a?a.update():a=new c.a(p({threshold:n},r))}},Y7ZC:function(e,t,n){e.exports=n("4KFe")(16)},YsQ7:function(e,t,n){},"Yz+Y":function(e,t,n){e.exports={default:n("+plK"),__esModule:!0}},a0xu:function(e,t,n){e.exports=n("4KFe")(108)},aBrD:function(e,t,n){},aeI2:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s}));var a=n("YZRX"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=1033,a="";if(null===e||void 0===e?void 0:e.gameAbbrList){var r,o=[].concat(null===e||void 0===e?void 0:e.gameAbbrList);a=null===(r=a=null===o||void 0===o?void 0:o.find((function(e){return(null===e||void 0===e?void 0:e.langId)==n})))||void 0===r?void 0:r.value}return!a&&t&&(a=null===e||void 0===e?void 0:e[t]),a||(a=null===e||void 0===e?void 0:e.id),encodeURIComponent(a)||""},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=1033,n=Object(a.d)(),r="";if(null===e||void 0===e?void 0:e.gameAbbrList){var o,i,s=[].concat(null===e||void 0===e?void 0:e.gameAbbrList);if(!(r=null===(o=r=null===s||void 0===s?void 0:s.find((function(e){return(null===e||void 0===e?void 0:e.langId)==n})))||void 0===o?void 0:o.value))r=null===(i=r=null===s||void 0===s?void 0:s.find((function(e){return(null===e||void 0===e?void 0:e.langId)==t})))||void 0===i?void 0:i.value}if(!r&&(null===e||void 0===e?void 0:e.nameLang)){var l,c,u,p,f=(null===e||void 0===e?void 0:e.nameLang)||[];try{f=JSON.parse(null===e||void 0===e?void 0:e.nameLang)}catch(d){}if(!(r=null===(c=r=null===(l=f)||void 0===l?void 0:l.find((function(e){return(null===e||void 0===e?void 0:e.langId)==n})))||void 0===c?void 0:c.value))r=null===(p=r=null===(u=f)||void 0===u?void 0:u.find((function(e){return(null===e||void 0===e?void 0:e.langId)==t})))||void 0===p?void 0:p.value}return r||""},i=function(e){return(e="string"===typeof e?e.toLowerCase():"")&&"all"!==e?"?gameType=".concat(e):""},s=function(e){return e&&-1!==["all","others","mobile","pc"].indexOf(e)?e:"all"}},fNZA:function(e,t,n){var a=n("QMMT"),r=n("UWiX")("iterator"),o=n("SBuE");e.exports=n("WEpk").getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[a(e)]}},hbdd:function(e,t,n){},i0MG:function(e,t,n){e.exports=n.p+"images/triangle.295bf3b6d5ac37ecc58b9d1429de6394.png"},jCcD:function(e,t,n){},jH9W:function(e,t,n){},lT0V:function(e,t,n){},m1cH:function(e,t,n){"use strict";t.__esModule=!0;var a,r=n("rfXi"),o=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},"q+bs":function(e,t,n){"use strict";n("I5cv");var a=n("pVnL"),r=n.n(a),o=n("QILm"),i=n.n(o),s=n("J4zp"),l=n.n(s),c=n("lwsE"),u=n.n(c),p=n("W8MJ"),f=n.n(p),d=n("PJYZ"),h=n.n(d),v=n("a1gu"),m=n.n(v),y=n("Nsbk"),g=n.n(y),b=n("7W2i"),P=n.n(b),k=n("lSNA"),C=n.n(k),E=n("q1tI"),S=n.n(E),I=n("TSYQ"),L=n.n(I),O=(n("17x9"),n("FnEH")),T=n("vARU"),w=n("SgXV"),R=n.n(w),_=n("JrcP"),N=n.n(_),D=n("HIZl"),x=n("i0MG"),M=n.n(x),A=n("RyMh"),j=n("Dp90"),B=n("K0CG");function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var V=function(e){P()(o,e);var t,a=(t=o,function(){var e,n=g()(t);if(F()){var a=g()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return m()(this,e)});function o(){var e;u()(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=a.call.apply(a,[this].concat(n)),C()(h()(e),"handleImgError",(function(e){e.target.src=N.a})),C()(h()(e),"onClickCover",(function(t){var n=e.props,a=n.dataSource,r=n.onClickCover,o=n.positionIndex,i=n.reserveLinkBehavior;r(a,o),i||(t.preventDefault(),Object(j.a)(a))})),e}return f()(o,[{key:"componentDidMount",value:function(){var e=this;this.props.showDotTypeText&&Promise.resolve().then(n.bind(null,"OWn1")).then((function(t){var a=t.default,r=n.e("c5791").then(n.bind(null,"oBdH")),o=a.getModuleLangById({module:"user"});Promise.all([r,o]).then((function(t){var n=l()(t,2),a=n[0],r=n[1];e.setState({dotTypeFile:a,userModuleLangPkg:r})}))}))}},{key:"renderCLangTag",value:function(e,t){var n=this.props.prefixCls,a=Object(A.a)(t);return S.a.createElement("div",{className:"".concat(n,"_clang-tag")},S.a.createElement("div",{className:"".concat(n,"_clang-tag-text")},S.a.createElement("span",{className:"".concat(n,"_clang-tag-item")},S.a.createElement("img",{src:M.a}),Object(B.d)(e)),t?S.a.createElement("span",{className:"".concat(n,"_clang-tag-item")},"".concat(null===a||void 0===a?void 0:a.minute,":").concat(null===a||void 0===a?void 0:a.second)):null))}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,a=t.className,o=t.children,s=t.dataSource,l=t.type,c=(t.onClickCover,t.showDotTypeText),u=(t.positionIndex,t.reserveLinkBehavior,i()(t,["prefixCls","className","children","dataSource","type","onClickCover","showDotTypeText","positionIndex","reserveLinkBehavior"])),p=s.showScreenshots,f=s.roomTypeName,d=s.playDuration,h=s.playNum,v=s.dotType,m=i()(s,["showScreenshots","roomTypeName","playDuration","playNum","dotType"]),y=this.state||{},g=y.dotTypeFile,b=y.userModuleLangPkg,P=(g||{}).dotTypeMap,k="";P&&b&&(k=b[k=null===(e=k=P[v])||void 0===e?void 0:e.textKey]);var E={showTitle:null===m||void 0===m?void 0:m.showTitle,title:null===m||void 0===m?void 0:m.title,nickname:null===m||void 0===m?void 0:m.author,avatarUrl:(null===m||void 0===m?void 0:m.authorAvatarUrl)||R.a,updatedTime:null===m||void 0===m?void 0:m.updatedTime},I=S.a.createElement("div",null,S.a.createElement("div",{className:"".concat(n,"_cover-wrap")},S.a.createElement(T.a,{isLazyload:!0,className:"".concat(n,"_cover lazyload"),src:p,cover:N.a,alt:f,width:400})),c?S.a.createElement("div",{className:"".concat(n,"_dot-type-text bc8 c1")},k):null,this.renderCLangTag(h,d),S.a.createElement("div",{className:"".concat(n,"_mask")}),S.a.createElement("div",{className:"nimo-icon-circle"},S.a.createElement("div",{className:"nimo-icon-circle-mask"}),S.a.createElement("i",{className:"nimo-icon nimo-icon-play-btn"}))),w=L()(n,a,C()({},"".concat(n,"-").concat(l),!0)),_=Object(j.b)(s);return S.a.createElement("a",r()({href:_,target:"_self",onClick:this.onClickCover,_stop_event:"1"},u,{className:w}),S.a.createElement(O.a,{cover:I,hoverable:!0,bordered:!1},S.a.createElement(D.a,{roomInfo:E}),o))}}]),o}(S.a.PureComponent);C()(V,"defaultProps",{prefixCls:"nimo-rc-video",className:"",type:"full",children:null,dataSource:{authorAvatarUrl:R.a,anchorId:"",author:"",onlineStatus:0,showScreenshots:N.a,title:"",roomType:"",roomTypeName:"",updatedTime:0,playNum:0,playDuration:0,showDotTypeText:!1},onClickCover:function(){},reserveLinkBehavior:!1}),t.a=V},rfXi:function(e,t,n){e.exports={default:n("0tVQ"),__esModule:!0}},rr1i:function(e,t,n){e.exports=n("4KFe")(41)},sNwI:function(e,t,n){var a=n("5K7Z");e.exports=function(e,t,n,r){try{return r?t(a(n)[0],n[1]):t(n)}catch(i){var o=e.return;throw void 0!==o&&a(o.call(e)),i}}},tEej:function(e,t,n){e.exports=n("4KFe")(179)},tfYw:function(e,t,n){"use strict";t.__esModule=!0;var a=o(n("Yz+Y")),r=o(n("JO7F"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,o){null===t&&(t=Function.prototype);var i=(0,r.default)(t,n);if(void 0===i){var s=(0,a.default)(t);return null===s?void 0:e(s,n,o)}if("value"in i)return i.value;var l=i.get;return void 0!==l?l.call(o):void 0}},vHYV:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("AwrO"),r=n("KkFV"),o=n("KFtC"),i=function(e,t,n){if(t){var i=Object(o.o)(t);if(i){var s=e&&Array.isArray(e)&&e.find((function(e){return e&&e.type===a.b})),l="er_nlottery_click_".concat(i);s?r.c.set(l,JSON.stringify({_from:n})):r.c.remove(l)}}}},wIxy:function(e,t,n){"use strict";var a=n("q+bs"),r=n("HIZl");n("Cifo");a.a.VideoCardMeta=r.a;t.a=a.a},wSAP:function(e,t,n){},zZhX:function(e,t,n){}}]);